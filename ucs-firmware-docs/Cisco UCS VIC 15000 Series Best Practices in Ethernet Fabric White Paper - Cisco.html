















<!DOCTYPE html>
<html xmlns:fb="//www.facebook.com/2008/fbml" xmlns:og="//opengraphprotocol.org/schema/" lang="en" xml:lang="en"  class="no-touch no-js">

















<head>
    <meta charset="utf-8">
    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="rei" content="3/2/2022 10.39am est" />

    
        <script tyle="text/javascript" src="/content/dam/cdc/j/cdcrSwitch.js"></script>
        <script type="text/javascript"> 
            if (typeof cdc === "undefined"){
                cdc = {};
            }
            cdc.localizedLang="en/us";

            if (window.cdcext === undefined) { window.cdcext = {}; }
            cdcext.customEnvironment = "prod";
            if (window.cdclocale === undefined) { window.cdclocale = {}; }
            cdclocale.locale = cdc.localizedLang=="en/us"?"en_us":cdc.localizedLang;

        </script> 
         
    
    

    













<script src="/c/dam/cdc/t/ctm-core.js"></script>
<script>
    window['adrum-start-time'] = new Date().getTime();
    window.environ = "prod" ;
</script>

    















<script>
    if (window.cpe === undefined) {
        window.cpe = {};
    }

    cpe.accountName = "prod";
    cpe.config = ["cinf","dsc","pps"];
    cpe.hideMethod = "elements";

    window.targetGlobalSettings = JSON.parse('{\x22timeout\x22:4000}');
    window.targetPageParamsAll = () => JSON.parse('{\x22entity\x22:\x22{\\\x22id\\\x22:\\\x221726009178881434\\\x22,\\\x22categoryId\\\x22:\\\x22Products,Cisco Interfaces and Modules,Products White Paper\\\x22}\x22}');

    
    const bullseyeLibrary = `/etc.clientlibs/cisco-cdc/clientlibs/clientlib-external/resources/external/bullseye.js`;

    import(bullseyeLibrary);
</script>
<script src="/etc.clientlibs/cisco-cdc/clientlibs/clientlib-external/resources/regional-mbox/regional-mbox.js"></script>
    
    
















 
        <title>Cisco UCS VIC 15000 Series Best Practices in Ethernet Fabric White Paper - Cisco</title>
    
    
    
    












<meta name="format-detection" content="telephone=no">
    



















    <meta http-equiv="Content-type" content="text/html;charset=UTF-8"  />
    <meta name="description" content="The fifth-generation Cisco UCS Virtual Interface Card 15000 series supports lossless, low-latency 10/25/40/50/100/200 Gigabit Ethernet and Fibre Channel over Ethernet speeds. These VICs have next-generation converged network adapter technology as well as features for enterprise-class Cisco UCS X-Series compute nodes, B-Series blade servers, and C-Series rack servers. The following topics are addressed from an Ethernet fabric perspective: bandwidth with VIC 15000 on blade and rack servers, UCS-X Series compute nodes, best practices for adapter policies, overlay offloads, FEC settings, and VIC connectivity considerations for rack servers."  />
    <meta name="title" content="Cisco Unified Computing System Adapters - Cisco UCS VIC 15000 Series Best Practices in Ethernet Fabric White Paper"  />
    <meta name="documentId" content="1726009177968433"  />
    <meta name="templateName" content="eot-toc"  />
    <meta name="SecondaryPID" content="UCS-VIC-M82-8P-WS,UCS-VIC-M82-8P,UCS-VIC-M82-8P-RF,UCS-VIC-M82-8P="  />
    <meta property="fb:app_id" content="156494687694418"  />
    <meta name="ioContentSource" content="WEM"  />
    <meta name="concept" content="Cisco Unified Computing System Adapters"  />
    <meta name="secondaryConcept" content="Cisco UCS Virtual Interface Card"  />
    <meta name="docType" content="Products White Paper"  />
    <meta name="iaPath" content="cisco.com#Products#Cisco Products#Cisco Interfaces and Modules#Cisco Unified Computing System Adapters"  />
    <meta name="contentType" content="cisco.com#US#preSales"  />
    <meta name="locale" content="US"  />
    <meta name="language" content="en"  />
    <meta name="country" content="US"  />
    <meta name="hub" content="Enterprise Networks"  />
    <meta name="CCID_Page" content="cc002935"  />
    <meta name="date" content="Tue Sep 23 03:04:08 PDT 2025"  />
    <meta name="accessLevel" content="Customer"  />
    <meta name="accessLevel" content="Guest"  />
    <meta name="accessLevel" content="Partner"  />
    <meta name="entitlementExpression" content="contains( &quot;0,1,2,3,4,7&quot; , $profileField[3] )"  />
    <meta property="og:site_name" content="Cisco"  />
    <meta property="og:type" content="website"  />
    <meta property="og:title" content="Cisco Unified Computing System Adapters - Cisco UCS VIC 15000 Series Best Practices in Ethernet Fabric White Paper"  />
    <meta property="og:description" content="The fifth-generation Cisco UCS Virtual Interface Card 15000 series supports lossless, low-latency 10/25/40/50/100/200 Gigabit Ethernet and Fibre Channel over Ethernet speeds. These VICs have next-generation converged network adapter technology as well as features for enterprise-class Cisco UCS X-Series compute nodes, B-Series blade servers, and C-Series rack servers. The following topics are addressed from an Ethernet fabric perspective: bandwidth with VIC 15000 on blade and rack servers, UCS-X Series compute nodes, best practices for adapter policies, overlay offloads, FEC settings, and VIC connectivity considerations for rack servers."  />
    <meta property="og:image" content="https://www.cisco.com/web/fw/i/logo-open-graph.gif"  />
    <meta property="og:url" content="https://www.cisco.com/c/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.html"  />
    <link rel="canonical" href="https://www.cisco.com/c/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.html"/>
	

    
 
    
    













    <script src="/etc.clientlibs/clientlibs/granite/jquery.min.js"></script>
<script src="/etc.clientlibs/clientlibs/granite/utils.min.js"></script>
<script src="/etc.clientlibs/clientlibs/granite/jquery/granite.min.js"></script>
<script src="/etc.clientlibs/foundation/clientlibs/jquery.min.js"></script>
<script src="/etc.clientlibs/foundation/clientlibs/shared.min.js"></script>
<script src="/etc.clientlibs/cq/personalization/clientlib/underscore.min.js"></script>
<script src="/etc.clientlibs/cq/personalization/clientlib/personalization/kernel.min.js"></script>
<script src="/etc.clientlibs/cq/personalization/clientlib/personalization/kernel.min.js"></script>
<script type="text/javascript">
    $CQ(function() {
        CQ_Analytics.SegmentMgr.loadSegments("\/etc\/segmentation");
        CQ_Analytics.ClientContextUtils.init("\/c\/dnc\/etc\/clientcontext\/default", "\/content\/en\/us\/products\/collateral\/interfaces\u002Dmodules\/unified\u002Dcomputing\u002Dsystem\u002Dadapters\/ucs\u002Dvic\u002D15000\u002Dseries\u002Dether\u002Dfabric\u002Dwp");

        
    });
</script>

    














      <link rel="stylesheet" href="/etc/designs/cdc/clientlibs/responsive/css/cisco-sans.min.css" type="text/css">



    












    <script src="/etc/designs/cdc/clientlibs/responsive/js/foundation.min.js"></script>

    <link rel="stylesheet" href="/etc/designs/cdc/clientlibs/responsive/css/responsive.min.css" type="text/css">

    















       

    <script>
        sessionStorage.setItem("logOutIntermediateMessage", 'You are being logged out.');
    </script>
    
    
	















<!-- Custom JSON LD For Products Type -->

    
    <script type="application/ld+json">
        [
           
            {
          "@context": "http://www.schema.org",                                                                        
          "@type": "WebPage",
          "name": "Cisco UCS VIC 15000 Series Best Practices in Ethernet Fabric White Paper",  		  
          "url": "https://www.cisco.com/c/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.html",
          "description": "The fifth-generation Cisco UCS Virtual Interface Card 15000 series supports lossless, low-latency 10/25/40/50/100/200 Gigabit Ethernet and Fibre Channel over Ethernet speeds. These VICs have next-generation converged network adapter technology as well as features for enterprise-class Cisco UCS X-Series compute nodes, B-Series blade servers, and C-Series rack servers. The following topics are addressed from an Ethernet fabric perspective: bandwidth with VIC 15000 on blade and rack servers, UCS-X Series compute nodes, best practices for adapter policies, overlay offloads, FEC settings, and VIC connectivity considerations for rack servers.",
          "publisher": {
              "@type": "Corporation",
                 "name": "Cisco"
            }
        }]
    </script>
<!-- End Custom JSON LD For Products Type -->

<!-- Video JSON LD -->




<!-- End Video JSON LD -->

    

                              <script>!function(e){var n="https://s.go-mpulse.net/boomerang/";if("False"=="True")e.BOOMR_config=e.BOOMR_config||{},e.BOOMR_config.PageParams=e.BOOMR_config.PageParams||{},e.BOOMR_config.PageParams.pci=!0,n="https://s2.go-mpulse.net/boomerang/";if(window.BOOMR_API_key="GKZXC-NS3SU-A7VFH-HKBHM-U7LKH",function(){function e(){if(!o){var e=document.createElement("script");e.id="boomr-scr-as",e.src=window.BOOMR.url,e.async=!0,i.parentNode.appendChild(e),o=!0}}function t(e){o=!0;var n,t,a,r,d=document,O=window;if(window.BOOMR.snippetMethod=e?"if":"i",t=function(e,n){var t=d.createElement("script");t.id=n||"boomr-if-as",t.src=window.BOOMR.url,BOOMR_lstart=(new Date).getTime(),e=e||d.body,e.appendChild(t)},!window.addEventListener&&window.attachEvent&&navigator.userAgent.match(/MSIE [67]\./))return window.BOOMR.snippetMethod="s",void t(i.parentNode,"boomr-async");a=document.createElement("IFRAME"),a.src="about:blank",a.title="",a.role="presentation",a.loading="eager",r=(a.frameElement||a).style,r.width=0,r.height=0,r.border=0,r.display="none",i.parentNode.appendChild(a);try{O=a.contentWindow,d=O.document.open()}catch(_){n=document.domain,a.src="javascript:var d=document.open();d.domain='"+n+"';void(0);",O=a.contentWindow,d=O.document.open()}if(n)d._boomrl=function(){this.domain=n,t()},d.write("<bo"+"dy onload='document._boomrl();'>");else if(O._boomrl=function(){t()},O.addEventListener)O.addEventListener("load",O._boomrl,!1);else if(O.attachEvent)O.attachEvent("onload",O._boomrl);d.close()}function a(e){window.BOOMR_onload=e&&e.timeStamp||(new Date).getTime()}if(!window.BOOMR||!window.BOOMR.version&&!window.BOOMR.snippetExecuted){window.BOOMR=window.BOOMR||{},window.BOOMR.snippetStart=(new Date).getTime(),window.BOOMR.snippetExecuted=!0,window.BOOMR.snippetVersion=12,window.BOOMR.url=n+"GKZXC-NS3SU-A7VFH-HKBHM-U7LKH";var i=document.currentScript||document.getElementsByTagName("script")[0],o=!1,r=document.createElement("link");if(r.relList&&"function"==typeof r.relList.supports&&r.relList.supports("preload")&&"as"in r)window.BOOMR.snippetMethod="p",r.href=window.BOOMR.url,r.rel="preload",r.as="script",r.addEventListener("load",e),r.addEventListener("error",function(){t(!0)}),setTimeout(function(){if(!o)t(!0)},3e3),BOOMR_lstart=(new Date).getTime(),i.parentNode.appendChild(r);else t(!1);if(window.addEventListener)window.addEventListener("load",a,!1);else if(window.attachEvent)window.attachEvent("onload",a)}}(),"".length>0)if(e&&"performance"in e&&e.performance&&"function"==typeof e.performance.setResourceTimingBufferSize)e.performance.setResourceTimingBufferSize();!function(){if(BOOMR=e.BOOMR||{},BOOMR.plugins=BOOMR.plugins||{},!BOOMR.plugins.AK){var n=""=="true"?1:0,t="",a="onaog3yx2jag62jhsp4q-f-bbb14eff1-clientnsv4-s.akamaihd.net",i="false"=="true"?2:1,o={"ak.v":"39","ak.cp":"61004","ak.ai":parseInt("271834",10),"ak.ol":"0","ak.cr":19,"ak.ipv":4,"ak.proto":"h2","ak.rid":"20ae5e4f","ak.r":50255,"ak.a2":n,"ak.m":"dsca","ak.n":"essl","ak.bpcip":"115.64.227.0","ak.cport":54341,"ak.gh":"23.220.178.206","ak.quicv":"","ak.tlsv":"tls1.3","ak.0rtt":"","ak.0rtt.ed":"","ak.csrc":"-","ak.acc":"","ak.t":"1764201465","ak.ak":"hOBiQwZUYzCg5VSAfCLimQ==t4c9d4u+naralfue9ZdLYR+eWlrUh0ClqadeUP6Ysm3//K5Jixlh7wOo48XMBnc+r6W+FVG7Gj9yErVnsPysrMx+YW3Am4vX7tx+MyL792NoMb8xEDhKbqo4BPbEI/aa4l/k/PSzwJm/KVWMhJX0vHXmLOVPz2JmyjV+69yrJQyipgQ8FYEGFHFZ+i/SPDsL06rRHevLW+Uii+ERMIvswqUXrpyLSw882PYjv3DrqCIumTZefkAejnicO9gZyYt2n1HIkreM+mwDnB5F4Vf9MqGMhpQrkgrnFxTEkWq0x8FqZUQuSg8mecXdNFwLZdosG3/NDK2MmsUJnwnil9+Kv0ElHNgYJrJYAjn3ab5UNbtme0C2YHmCV8L20IWgulsLWTolrUQ+rIcIMDPzZbXWPTura/22VywDgW9DMgp7Ves=","ak.pv":"536","ak.dpoabenc":"","ak.tf":i};if(""!==t)o["ak.ruds"]=t;var r={i:!1,av:function(n){var t="http.initiator";if(n&&(!n[t]||"spa_hard"===n[t]))o["ak.feo"]=void 0!==e.aFeoApplied?1:0,BOOMR.addVar(o)},rv:function(){var e=["ak.bpcip","ak.cport","ak.cr","ak.csrc","ak.gh","ak.ipv","ak.m","ak.n","ak.ol","ak.proto","ak.quicv","ak.tlsv","ak.0rtt","ak.0rtt.ed","ak.r","ak.acc","ak.t","ak.tf"];BOOMR.removeVar(e)}};BOOMR.plugins.AK={akVars:o,akDNSPreFetchDomain:a,init:function(){if(!r.i){var e=BOOMR.subscribe;e("before_beacon",r.av,null,null),e("onbeacon",r.rv,null,null),r.i=!0}return this},is_complete:function(){return!0}}}}()}(window);</script></head>

<body id="wcq" class="














fw-res cdc-eot cdc-eot-toc cdc-transform products-white-paper
">
    
    













<div id="fw-skiplinks">
    <ul class="container">
        <li><a id="skiplink-content" href="#fw-content">Skip to content</a></li>
        <li><a id="skiplink-search" href="#">Skip to search</a></li>
        <li><a id="skiplink-footer" href="#fw-footer-v2" class="last">Skip to footer</a></li>
    </ul>
</div>

    














    <script type="module" src="/site/web-components/us/en/cdc-header.js"></script>
    <cdc-header></cdc-header>
    <nav class="fw-c-header__seo-links" aria-hidden="true" style="display:none">
        <ul>
            <li><a tabindex="-1" href="https://www.cisco.com/site/us/en/index.html">Cisco.com Worldwide</a></li>
            <li><a tabindex="-1" href="/c/en/us/products/index.html">Products and Services</a></li>
            <li><a tabindex="-1" href="https://www.cisco.com/site/us/en/solutions/index.html">Solutions</a></li>
            <li><a tabindex="-1" href="/c/en/us/support/index.html">Support</a></li>
            <li><a tabindex="-1" href="/c/en/us/training-events.html">Learn</a></li>
            <li><a tabindex="-1" href="//www.cisco.com/c/en/us/about/sitemap.html">Explore Cisco</a></li>
            <li><a tabindex="-1" href="/c/en/us/buy.html">How to Buy</a></li>
            <li><a tabindex="-1" href="https://www.cisco.com/site/us/en/partners/index.html?dtid=odicdc001129">Partners Home</a></li>                
            <li><a tabindex="-1" href="https://www.cisco.com/site/us/en/partners/cisco-partner-program/index.html?ccid=cc000864&dtid=odiprc001129">Partner Program</a></li>
            <li><a tabindex="-1" href="https://www.cisco.com/site/us/en/partners/support-help/index.html">Support</a></li>
            <li><a tabindex="-1" href="https://www.cisco.com/site/us/en/partners/tools/index.html?dtid=odiprc001129">Tools</a></li>
            <li><a tabindex="-1" href="https://locatr.cloudapps.cisco.com/WWChannels/LOCATR/pf/index.jsp#/">Find a Cisco Partner</a></li>
            <li><a tabindex="-1" href="https://www.cisco.com/site/us/en/partners/connect-with-a-partner/index.html?ccid=cc000864&dtid=odiprc001129">Meet our Partners</a></li>
            <li><a tabindex="-1" href="https://www.cisco.com/site/us/en/partners/index.html?dtid=odicdc001129">Become a Cisco Partner</a></li>

        </ul>
    </nav>

    
















<div id="fw-content" class="container grid">
    
    













   








<div class="row full" data-owner="ID">
	<div class="col full ">
        
            



















<nav id="fw-breadcrumb" class="data-based" aria-label="breadcrumbs" data-owner="ID">

   
    <ul itemscope itemtype="//schema.org/BreadcrumbList">
        <li aria-hidden="true"><a href='#' class="skip"><span></span></a></li>
        <li itemprop='itemListElement' itemscope itemtype='//schema.org/ListItem'><a itemprop='item' href='/c/en/us/products/index.html'><span itemprop='name'>Products & Services</span><meta itemprop='position' content='1' /></a><span class='caret'></span></li><li itemprop='itemListElement' itemscope itemtype='//schema.org/ListItem'><a itemprop='item' href='/c/en/us/products/interfaces-modules/index.html'><span itemprop='name'>Cisco Interfaces and Modules</span><meta itemprop='position' content='2' /></a><span class='caret'></span></li><li itemprop='itemListElement' itemscope itemtype='//schema.org/ListItem'><a itemprop='item' href='/c/en/us/products/interfaces-modules/unified-computing-system-adapters/index.html'><span itemprop='name'>Cisco Unified Computing System Adapters</span><meta itemprop='position' content='3' /></a><span class='caret'></span></li><li itemprop='itemListElement' itemscope itemtype='//schema.org/ListItem'><a itemprop='item' href='/c/en/us/products/interfaces-modules/unified-computing-system-adapters/white-paper-listing.html'><span itemprop='name'>White Papers</span><meta itemprop='position' content='4' /></a><span class='caret'></span></li>
    </ul>
</nav>
<script>
    if (window.cdc === undefined) { window.cdc = {}; }
    if (cdc.breadcrumb === undefined) {
        cdc.breadcrumb = (function () {
            let clone = document.querySelector('#fw-breadcrumb').cloneNode(true);

            let appendClone = function () {
                let hasBreadcrumb = document.querySelector('#fw-breadcrumb') !== null,
                    firstMarquee = document.querySelectorAll('.dmc-mq')[0];

                if (!hasBreadcrumb && firstMarquee !== undefined) {
                    firstMarquee.querySelector('.frame .inset').insertBefore(this.clone, firstMarquee.querySelector('.frame .inset').firstElementChild);
                }
            };

            return {
                clone: clone,
                appendClone: appendClone
            }
        }());
    }
    //DE380224
    var anchorChild = document.getElementsByTagName("a");
    for(var i=0; i<anchorChild.length; i++){ 
        if(anchorChild[i].getAttribute("itemprop")=="item")  {  
            if ( anchorChild[i].href.includes("%3Clocale%3E") ){
                let anchorChildHREF = anchorChild[i].href;
                let docLocale = document.querySelector('meta[name="locale"]').getAttribute('content');
                let docLanguage = document.querySelector('meta[name="language"]').getAttribute('content');
                
                var docSeparator;
                
                if ((docLocale.toLowerCase() == "us") && (docLanguage.toLowerCase() == "en")) {
                    docSeparator="/";
                } else {
                    docSeparator="_";
                }
                
                let anchorURLReplace = docLanguage.toLowerCase() + docSeparator + docLocale.toLowerCase();
                anchorChildHREF = anchorChildHREF.replace("%3Clocale%3E", anchorURLReplace);
                anchorChild[i].setAttribute('href', anchorChildHREF);
            }
        }
    }
</script>

        
		        <h1 id="fw-pagetitle" class="" data-owner="ID">Cisco UCS VIC 15000 Series Best Practices in Ethernet Fabric White Paper</h1>
		
	</div>
</div>
     <!--googleon: index--><!--googleon: snippet-->
    
















<script type="text/javascript">
    // initialize dictionary for i18n
    var pagelanguage = "en_us".replace("_","-");
    var pagelocale = pagelanguage;
    Granite.I18n.setLocale(pagelocale.toLowerCase());
    Granite.I18n.setUrlPrefix("/etc/designs/cdc/fw/w/responsive_components/eot/i18n/");
    Granite.I18n.setUrlSuffix(".1.json");
    cdc.util.ensureNamespace("cdc.rc");
    cdc.rc.isEotToc = true;
</script>


<div class="row full blowout">
    <div class="col full">

        <div class="docTypeBanner noprint">White Paper</div>
        
    </div>
</div>

<div class="row full">
    <div class="col full top docId">
        

















<script>
    if (typeof(cdc) == "undefined") cdc={};
    if (typeof(cdc.translations) == "undefined") cdc.translations={};

</script>

        <div class="docHeaderComponent base-blowout">
        <div class="linksRow">
            
            
            <div class="toolbar">
            













<div class="noprint" id="saveModule">

<script type="text/javascript">
    cdc.util.ensureNamespace("cdc.rc.savedoc");
    cdc.rc.savedoc.isLoggedIn = false;
    cdc.rc.savedoc.save = "Save";
    cdc.rc.savedoc.saved = "Saved";
</script>

    <button class="save" aria-expanded="false" aria-label="Save">
        <label>Save</label>
    </button>    

</div> 
    <div class="saveDocumentMessage login cdc-expandPanel"  role="region" aria-live="polite">
        <a href="/c/login/index.html?referer=/c/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.html">Log in</a> to Save Content
    </div>


            <!-- Translation Selctor -->
            <!-- Translation Selector is used on EOT and Books pages. if a page has a locale of en_US then it will provide a list of avaible translations, if its a translated page (non english locale) then provide the link to the english locale. -->


 



            
                <div class="noprint downloadDocument"><button type="button" class="view-download-list-link anchor" aria-expanded="false"><div class="toolbarIcon downloadIcon"></div><label class="iconLabel">Download</label></button></div>
            
            
                <div class="noprint printDocument js-only"><button type="button" class="anchor printPage" aria-label="Print"><div class="toolbarIcon printIcon"></div><label class="iconLabel">Print</label></button></div>
            
            </div>

        </div>
            <!-- Where translation selector list of available languages is set up for EOT pages, for the javascript to work must have <ul id="translationsList"> </ul> -->
            
                    <script language="javascript">
                        cdc.translations.map = "{en-us=https://www.cisco.com/c/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.html, x-default=https://www.cisco.com/c/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.html}";//storing the map for use in the JS
                        cdc.translations.locale="en_us";
                    </script>
                    <div class="availableLanguagesList">
                        <h3>Available Languages</h3>
                        <ul id="translationsList">
                
                          </ul>
                </div>
           
            
            <div id="download-list-container" class="noprint panelRow"  role="region" aria-live="polite">
                <div class='download-list' aria-label="Download Options">
                    <h3>Download Options</h3>
                    <ul>
                    
                        <li>
                            <div class="fileText">
                                <a href="/c/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.pdf" class="download-pdf"><div class="fileIcon pdfIcon"></div>PDF</a>
                                
                                <span class="docSize">(25.1 MB)</span>
                                
                                <br />
                                <span class="description">View with Adobe Reader on a variety of devices</span>
                            </div>
                        </li>
                    
                    </ul>
                </div>
            </div>
        

        <div class="infobarClearFix">
            <div class="infobar">
				
                    <div class="updatedDate"><span>Updated:</span>September 23, 2025</div>
                                
                

                  </div> 
                  
        </div>
    </div>


<script>
jQuery(document).ready(function(){
    if(jQuery("body").hasClass("cdc-eot-toc") && jQuery(".cdc-eot-toc").find(".DocumentHistory").length > 0){
        jQuery(".cdc-eot-toc .seeRevisions").show();
        if(jQuery(window).width() >= 768){
            jQuery(".cdc-eot-toc .updatedDate").nextAll(".bullet").show();
        }
    }else{
      jQuery(".cdc-eot-toc .infobar .bullet").hide();
      jQuery(".cdc-eot-toc .seeRevisions");
      jQuery(".cdc-eot-toc .updatedDate");
    }


})
</script>

    















  
    <div class="disclaimers marketing">
        
        <div class="disclaimerButtons">
        <div class="aboutBias">
            <button aria-expanded="false" >Bias-Free Language</button>
        </div>
        
        </div>
        
        <div class="biasfreeContent panel">
            <h3>Bias-Free Language</h3>
            <p>The documentation set for this product strives to use bias-free language. For the purposes of this documentation set, bias-free is defined as language that does not imply discrimination based on age, disability, gender, racial identity, ethnic identity, sexual orientation, socioeconomic status, and intersectionality. Exceptions may be present in the documentation due to language that is hardcoded in the user interfaces of the product software, language used based on RFP documentation, or language that is used by a referenced third-party product. <a href="https://www.cisco.com/c/en/us/about/social-justice/inclusive-language-policy.html">Learn more</a> about how Cisco is using Inclusive Language.</p>
        </div>
        
    </div><!-- disclaimers -->

    <div id="luh-holder" class="dmc-inpage-nav noprint">
        












































<link rel="stylesheet" href="/etc/designs/cdc/dmr/mbox/mbox.min.css" type="text/css">


<div class="dmc-mbox " data-version="DM:components/target/mbox:V1.5.1">
        <div class="mboxDefault">
            





















<link rel="stylesheet" href="/etc/designs/cdc/dmr/section/clientLib.min.css" type="text/css">






<section class="dmc-section" id="section-geo-luh" data-config-metrics-group="Section" data-config-metrics-title="section-geo-luh" data-version="DM:components/section/section-container:V1.1.1">
    
    





















 
				<link rel="stylesheet" href="/etc/designs/cdc/dmr/text/base-v2.min.css" type="text/css">

        



<link rel="stylesheet" href="/etc/designs/cdc/dmr/letushelp/clientLib-v2.min.css" type="text/css">



    <link rel="stylesheet" href="/etc/designs/cdc/dmr/libs/base.min.css" type="text/css">
<script src="/etc/designs/cdc/dmr/libs/base.min.js"></script>

    <link rel="stylesheet" href="/etc/designs/cdc/dmr/icons/dm-font-icons.min.css" type="text/css">

    
    
    
    
    
    
    
	
  		<script src="/etc/designs/cdc/dmr/libs/a11y/a11y-menu.min.js" defer></script><script src="/etc/designs/cdc/dmr/letushelp/clientLib-v2.min.js" defer></script>
	

    
<!-- DM:components/letushelp/letushelp-eot:V4.1.4 -->

<div class="dm0 dmc-letushelp-eot   floating compact thmd-1" data-config-metrics-group="sm_luh">

    <button class="btn" alt="Contact Cisco" title="Contact Cisco" id="luhrr-menubutton" aria-controls="inner-menu" aria-haspopup="true">
        <div class="btn-icn anm">
            <span class="luh-icn">
                <i class="dmi-audio-phone"></i>
            </span>
            <span class="luh-icn">
                <i class="dmi-app-tools"></i>
            </span>
            <span class="luh-icn">
                <i class="dmi-audio-headset"></i>
            </span>
            <span class="luh-icn">
                <i class="dmi-app-chats"></i>
            </span>
        </div>
        <span class="pri-4 btn-txt">Contact Cisco</span>
    </button>

    <ul class="no-bullets" id="inner-menu" tabindex="-1" role="menu" aria-label="Contact Cisco">
    
        <li class="hd">
            <span class="pri-4 txt">Contact Cisco</span>
            <button class="cls" data-config-metrics-item="close : sm_luh">
                <span class="luh-icn">
                    <i class="dmi-app-exit"></i>
                </span>
            </button>
        </li>
    
        <li class="c2c-no-margin">
        
            <script>
               var cocoaBotTranslateObject={"Cisco_Proactive_Chat_Intro":"Welcome to Cisco!","Cisco_Chat_Now":"Chat with Sales","Cisco_Proactive_Chat_Content":"How can I help you?","Cisco_Proactive_Chat_Decline_Title":"Decline the chat invitation","Cisco_Proactive_Chat_Metrics_Group":"pop up chat","Cisco_Proactive_Chat_Decline":"No Thanks","Cisco_Proactive_Chat_Intro_Title":"Cisco:","Cisco_Proactive_Chat_Accept_Metrics_Item":"accept the chat invitation","Cisco_Proactive_Chat_Decline_Metrics_Item":"decline the chat invitation","Cisco_Proactive_Chat_Title":"Chat live with a Cisco representative","Cisco_Proactive_Chat_Accept_Title":"Accept the chat invitation","Cisco_Proactive_Chat_Accept":"Chat Now"};
            </script>
            <script type="text/javascript" src="/c/dam/cdc/j/chatbot/chatbot.js"></script>
            
                <span class="luh-icn">
                    <i class="dmi-app-chats"></i>
                </span>
            
            <div class="ancr">
                <div id="nhbtn" data-metrics-title="right rail" class="c2c-component">
                </div>
            </div>
        </li>
    
        
            <li class="lnk1">
            
                <span class="luh-icn">
                    <i class="dmi-audio-headset"></i>
                </span>
            
                <div class="ancr">
                    <a href="https://www.cisco.com/site/us/en/about/contact-cisco/index.html?linkclickid=luh-contactus">Get a call from Sales</a>
                </div>
            </li>
        
        
        
        
         
        
        
    
    
        <li class="luh-num">
            <span class="luh-icn">
                <i class="dmi-audio-phone"></i>
            </span>
            <div class="ancr">
            
                Call Sales:
            
            
                
                
                    
                        <a href="tel:18005536387">
                            
                            1-800-553-6387
                            
                        </a>
                    
                    
                
                
                <br>
            

            

            

            

            

            

            

            

            

            
                US/CAN | 5am-5pm PT
            
        </div>
        </li>
    
    


        
            <li class="lastlnk1">
            
                <span class="luh-icn">
                    <i class="dmi-app-tools"></i>
                </span>
            
                <div class="ancr">
                    <a href="//www.cisco.com/c/en/us/support/index.html">Product / Technical Support</a>
                </div>
            </li>
        

        
            <li class="lastlnk2">
            
                <span class="luh-icn">
                    <i class="dmi-status-certified"></i>
                </span>
            
                <div class="ancr">
                    <a href="https://www.cisco.com/site/us/en/learn/training-certifications/index.html">Training & Certification</a>
                </div>
            </li>
        

          



    </ul>
</div>



</section>


















        </div>
        
            <script type="text/javascript">
                // Use the additional parameters, if provided.
                   mboxCreate('us_luhfloaty','type=default');
            </script>
        
    </div>
    





    </div>    

    </div>
</div>
<div class="row wide-narrow flip cdc-eot-toc-banner">
    <div class="col wide"> 
        


















<div class="defaultBrandImage"></div>



























<div data-version="DM:components/dgbanner/banner-mbox:V1.5.1">
    <div class="mboxDefault"></div>   
    <script type="text/javascript">
        var test="";
        if(test!=undefined && test.trim().length>0){
           mboxCreate('en-us_dg_large_eot','type=default','');
        }else{
           mboxCreate('en-us_dg_large_eot','type=default');
        }
       
    </script>
</div>































<script src="/etc/designs/cdc/dmr/libs/u.min.js"></script>
<script src="/etc/designs/cdc/dmr/libs/nmsp.min.js"></script>
<script src="/etc/designs/cdc/dmr/libs/log.min.js"></script>
<script src="/etc/designs/cdc/dmr/libs/metrics.min.js"></script>




<!-- DM:components/html/htmlblob:V1.2.6 -->


	

  


	<style>
#eot-doc-wrapper p.pToC_Subhead1,
#eot-doc-wrapper p.pToC_Subhead1 a {
    font-size: 24px !important;
    font-weight: bold !important;
}
#eot-doc-wrapper p.pSubhead2CMT,
#eot-doc-wrapper p.pSubhead2CMT a {
    font-size: 18px !important;
    font-weight: bold !important;
}
/* Page Title */
.cdc-eot-toc #fw-pagetitle,
.cdc-ic-ebook #fw-pagetitle {
    width: 110% !important;
}

/* Intro Text */
#eot-doc-wrapper p.pIntroCMT span {
    font-size: 2.4rem !important;
}

/* Body Text */
.cdc-eot-toc #eot-doc-wrapper .pBody {
    line-height: 25px !important;
    margin-bottom: 15px !important;
}

/* Superscript */
.cSuperscript {
    vertical-align: super !important;
}

/* Default Paragraphs */
.cdc-eot-toc #eot-doc-wrapper div.pDefault {
    font-size: 14px !important;
}

/* Bulleted Lists */
.cdc-eot-toc #eot-doc-wrapper p.pBulletCMT {
    text-indent: -27px !important;
    padding-left: 20px !important;
}

.cdc-eot-toc #eot-doc-wrapper p.pBullet2CMT {
    text-indent: -31px !important;
    padding-left: 87px !important;
}
/* Numbered Lists */
.cdc-eot-toc #eot-doc-wrapper p.pNumList1CMT {
    padding-left: 44px !important;
    text-indent: -29px !important;
}

/* Table Styling */
thead tr, thead td {
    border: 1px solid white !important;
}

tbody tr, tbody td {
    border: 1px solid lightgrey !important;
}

/* Cell Styling */
.Cellhead1 span {
    color: #FFFFFF !important;
    font-weight: bold !important;
} 

/* Makes table captions bold. */
.cdc-eot-toc #eot-doc-wrapper p.pTableCaptionCMT span {
    font-weight: bold !important;
}

/* Adds spacing above and below bullet points within table cells. */
#eot-doc-wrapper div.pCellBulletCMT {
margin-top: 12pt !important;
margin-bottom: 12pt !important;
}
.cdc-eot-toc p.CellBullet2 {
margin-top: 12pt !important;
margin-bottom: 12pt !important;
}

/* Image Size */
#eot-doc-wrapper img {
    height: 100% !important;
}
</style>






<div id="overDocWrapper" class="doctool noprint">
    
    <script type="text/javascript">
      $( document ).ready(function() {
        var fwt_element = $("#fw-content").find(".fwt-fatfooter");
        fwt_element.addClass("noprint");
      });
        if (window.cdc === undefined) { window.cdc = {}; }
        if (cdc.rac === undefined) { cdc.rac = {}; }
        if (cdc.rac.getOverrideConfig === undefined) {
         cdc.rac.getOverrideConfig = {};
        }
        else {
        //var configData = { "ratingsOnly": false, "objId":31, "source":"dummy source" };
          var configData = { "ratingsOnly": false};
          cdc.rac.getOverrideConfig(configData);
        }
    </script>

    
    

















<script>
    if (typeof(cdc) == "undefined") cdc={};
    if (typeof(cdc.translations) == "undefined") cdc.translations={};

</script>

        <div class="docHeaderComponent base-blowout">
        <div class="linksRow">
            
            
            <div class="toolbar">
            













<div class="noprint" id="saveModule">

<script type="text/javascript">
    cdc.util.ensureNamespace("cdc.rc.savedoc");
    cdc.rc.savedoc.isLoggedIn = false;
    cdc.rc.savedoc.save = "Save";
    cdc.rc.savedoc.saved = "Saved";
</script>

    <button class="save" aria-expanded="false" aria-label="Save">
        <label>Save</label>
    </button>    

</div> 
    <div class="saveDocumentMessage login cdc-expandPanel"  role="region" aria-live="polite">
        <a href="/c/login/index.html?referer=/c/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.html">Log in</a> to Save Content
    </div>


            <!-- Translation Selctor -->
            <!-- Translation Selector is used on EOT and Books pages. if a page has a locale of en_US then it will provide a list of avaible translations, if its a translated page (non english locale) then provide the link to the english locale. -->


 



            
                <div class="noprint downloadDocument"><button type="button" class="view-download-list-link anchor" aria-expanded="false"><div class="toolbarIcon downloadIcon"></div><label class="iconLabel">Download</label></button></div>
            
            
                <div class="noprint printDocument js-only"><button type="button" class="anchor printPage" aria-label="Print"><div class="toolbarIcon printIcon"></div><label class="iconLabel">Print</label></button></div>
            
            </div>

        </div>
            <!-- Where translation selector list of available languages is set up for EOT pages, for the javascript to work must have <ul id="translationsList"> </ul> -->
            
                    <script language="javascript">
                        cdc.translations.map = "{en-us=https://www.cisco.com/c/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.html, x-default=https://www.cisco.com/c/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.html}";//storing the map for use in the JS
                        cdc.translations.locale="en_us";
                    </script>
                    <div class="availableLanguagesList">
                        <h3>Available Languages</h3>
                        <ul id="translationsList">
                
                          </ul>
                </div>
           
            
            <div id="download-list-container" class="noprint panelRow"  role="region" aria-live="polite">
                <div class='download-list' aria-label="Download Options">
                    <h3>Download Options</h3>
                    <ul>
                    
                        <li>
                            <div class="fileText">
                                <a href="/c/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.pdf" class="download-pdf"><div class="fileIcon pdfIcon"></div>PDF</a>
                                
                                <span class="docSize">(25.1 MB)</span>
                                
                                <br />
                                <span class="description">View with Adobe Reader on a variety of devices</span>
                            </div>
                        </li>
                    
                    </ul>
                </div>
            </div>
        

        <div class="infobarClearFix">
            <div class="infobar">
				
                    <div class="updatedDate"><span>Updated:</span>September 23, 2025</div>
                                
                

                  </div> 
                  
        </div>
    </div>


<script>
jQuery(document).ready(function(){
    if(jQuery("body").hasClass("cdc-eot-toc") && jQuery(".cdc-eot-toc").find(".DocumentHistory").length > 0){
        jQuery(".cdc-eot-toc .seeRevisions").show();
        if(jQuery(window).width() >= 768){
            jQuery(".cdc-eot-toc .updatedDate").nextAll(".bullet").show();
        }
    }else{
      jQuery(".cdc-eot-toc .infobar .bullet").hide();
      jQuery(".cdc-eot-toc .seeRevisions");
      jQuery(".cdc-eot-toc .updatedDate");
    }


})
</script>
</div>

    </div>
    <div class="col narrow sticky noprint">
        












<span id="tocTop"></span>
<section id="eotTocNav">
	<div id="navWrapper">
	</div>
    <div id="tocSearch"></div>
    <div id="eotListWrapper" data-config-metrics-group="Table of Contents">
	    













 

  

<script type="text/javascript">
cdc.util.ensureNamespace("cdc.rc");
cdc.rc.toctitle = "Table of Contents";
</script>
    <h4 id="eotTocToc">Table of Contents</h4>
    <ul>	<li><a class="head1" href="#Overview" title="Overview">Overview</a></li>
	<li><a class="head1" href="#Audience" title="Audience">Audience</a></li>
	<li><a class="head1" href="#Objective" title="Objective">Objective</a></li>
	<li><a class="head1" href="#BandwidthonBSeriesbladeservers" title="BandwidthonBSeriesbladeservers">Bandwidth on B-Series blade-servers</a></li>
	<li><a class="head1" href="#RatelimitQoSpolicyVIC15000withIOM2408" title="RatelimitQoSpolicyVIC15000withIOM2408">Rate limit QoS policy: VIC 15000 with IOM 2408</a></li>
	<li><a class="head1" href="#BandwidthonCiscoUCSXSeriescomputenodes" title="BandwidthonCiscoUCSXSeriescomputenodes">Bandwidth on Cisco UCS X-Series compute nodes</a></li>
	<li><a class="head1" href="#PerformancetuningforCiscoUCSVIC15000Seriesadapters" title="PerformancetuningforCiscoUCSVIC15000Seriesadapters">Performance tuning for Cisco UCS VIC 15000 Series adapters</a>
	<ul>	<li><a class="head2" href="#Enhancedringsizebufferallocation" title="Enhancedringsizebufferallocation">Enhanced ring-size buffer allocation</a></li>
	<li><a class="head2" href="#AdapterpolicywithRSS" title="AdapterpolicywithRSS">Adapter policy with RSS</a></li>
	<li><a class="head2" href="#SRIOVwithESXi" title="SRIOVwithESXi">SR-IOV with ESXi</a></li>
	<li><a class="head2" href="#NetQueuewithESXi" title="NetQueuewithESXi">NetQueue with ESXi</a></li>
	<li><a class="head2" href="#MultipleTXRXQueueswithRSS" title="MultipleTXRXQueueswithRSS">Multiple TX/RX Queues with RSS</a></li>
	<li><a class="head2" href="#VMMQwithWindows" title="VMMQwithWindows">VMMQ with Windows</a></li>
	<li><a class="head2" href="#MTUsetting" title="MTUsetting">MTU setting</a></li>
	<li><a class="head2" href="#Overlayoffload" title="Overlayoffload">Overlay offload</a></li></ul>
	<li><a class="head1" href="#VICQinQtunneling" title="VICQinQtunneling">VIC Q-in-Q tunneling</a></li>
	<li><a class="head1" href="#PrecisionTimeProtocolPTP" title="PrecisionTimeProtocolPTP">Precision Time Protocol (PTP)</a></li>
	<li><a class="head1" href="#FECsettingson154251542715428152351523715238" title="FECsettingson154251542715428152351523715238">FEC settings on 15425/15427/15428/15235/15237/15238</a></li>
	<li><a class="head1" href="#RackserverconnectivitywithVIC1542515427154281523515237and15238" title="RackserverconnectivitywithVIC1542515427154281523515237and15238">Rack-server connectivity with VIC 15425,15427, 15428, 15235,15237, and 15238</a></li>
	<li><a class="head1" href="#PrioritytaggingonVICswithstandalonerackservers" title="PrioritytaggingonVICswithstandalonerackservers">Priority tagging on VICs with standalone rack servers</a></li>
	<li><a class="head1" href="#PhysicalNICmodeonVICsinstandalonerackservers" title="PhysicalNICmodeonVICsinstandalonerackservers">Physical NIC mode on VICs in standalone rack servers</a></li>
	<li><a class="head1" href="#Formoreinformation" title="Formoreinformation">For more information</a></ul>
    

	</div>
    <!--<div id="eotTocSearch"></div>
	<div id="eotTocToc"></div> -->
    <script type="text/javascript">
       cdc.util.ensureNamespace("cdc.rc.innerSearch");
       cdc.rc.innerSearch.hintText = "Search";
        cdc.util.ensureNamespace("cdc.rc.tableOfContents");
       cdc.rc.tableOfContents.label = "Table of Contents";
    </script>
</section>


    </div>
</div>
<div class="row narrow-wide">
    <!--style below is added to fix DE297691:TOC Headings are not clickable in Firefox/Edge Browsers -->
    <div class="col narrow noprint" style="position: relative;z-index: -1;">
        &nbsp;
        
    </div>
    <div class="col wide document">
        





























<div id="eot-doc-wrapper">
    
    











<html>
 <head>
                              <script>!function(e){var n="https://s.go-mpulse.net/boomerang/";if("False"=="True")e.BOOMR_config=e.BOOMR_config||{},e.BOOMR_config.PageParams=e.BOOMR_config.PageParams||{},e.BOOMR_config.PageParams.pci=!0,n="https://s2.go-mpulse.net/boomerang/";if(window.BOOMR_API_key="GKZXC-NS3SU-A7VFH-HKBHM-U7LKH",function(){function e(){if(!o){var e=document.createElement("script");e.id="boomr-scr-as",e.src=window.BOOMR.url,e.async=!0,i.parentNode.appendChild(e),o=!0}}function t(e){o=!0;var n,t,a,r,d=document,O=window;if(window.BOOMR.snippetMethod=e?"if":"i",t=function(e,n){var t=d.createElement("script");t.id=n||"boomr-if-as",t.src=window.BOOMR.url,BOOMR_lstart=(new Date).getTime(),e=e||d.body,e.appendChild(t)},!window.addEventListener&&window.attachEvent&&navigator.userAgent.match(/MSIE [67]\./))return window.BOOMR.snippetMethod="s",void t(i.parentNode,"boomr-async");a=document.createElement("IFRAME"),a.src="about:blank",a.title="",a.role="presentation",a.loading="eager",r=(a.frameElement||a).style,r.width=0,r.height=0,r.border=0,r.display="none",i.parentNode.appendChild(a);try{O=a.contentWindow,d=O.document.open()}catch(_){n=document.domain,a.src="javascript:var d=document.open();d.domain='"+n+"';void(0);",O=a.contentWindow,d=O.document.open()}if(n)d._boomrl=function(){this.domain=n,t()},d.write("<bo"+"dy onload='document._boomrl();'>");else if(O._boomrl=function(){t()},O.addEventListener)O.addEventListener("load",O._boomrl,!1);else if(O.attachEvent)O.attachEvent("onload",O._boomrl);d.close()}function a(e){window.BOOMR_onload=e&&e.timeStamp||(new Date).getTime()}if(!window.BOOMR||!window.BOOMR.version&&!window.BOOMR.snippetExecuted){window.BOOMR=window.BOOMR||{},window.BOOMR.snippetStart=(new Date).getTime(),window.BOOMR.snippetExecuted=!0,window.BOOMR.snippetVersion=12,window.BOOMR.url=n+"GKZXC-NS3SU-A7VFH-HKBHM-U7LKH";var i=document.currentScript||document.getElementsByTagName("script")[0],o=!1,r=document.createElement("link");if(r.relList&&"function"==typeof r.relList.supports&&r.relList.supports("preload")&&"as"in r)window.BOOMR.snippetMethod="p",r.href=window.BOOMR.url,r.rel="preload",r.as="script",r.addEventListener("load",e),r.addEventListener("error",function(){t(!0)}),setTimeout(function(){if(!o)t(!0)},3e3),BOOMR_lstart=(new Date).getTime(),i.parentNode.appendChild(r);else t(!1);if(window.addEventListener)window.addEventListener("load",a,!1);else if(window.attachEvent)window.attachEvent("onload",a)}}(),"".length>0)if(e&&"performance"in e&&e.performance&&"function"==typeof e.performance.setResourceTimingBufferSize)e.performance.setResourceTimingBufferSize();!function(){if(BOOMR=e.BOOMR||{},BOOMR.plugins=BOOMR.plugins||{},!BOOMR.plugins.AK){var n=""=="true"?1:0,t="",a="onaog3yx2jag62jhsp4q-f-bbb14eff1-clientnsv4-s.akamaihd.net",i="false"=="true"?2:1,o={"ak.v":"39","ak.cp":"61004","ak.ai":parseInt("271834",10),"ak.ol":"0","ak.cr":19,"ak.ipv":4,"ak.proto":"h2","ak.rid":"20ae5e4f","ak.r":50255,"ak.a2":n,"ak.m":"dsca","ak.n":"essl","ak.bpcip":"115.64.227.0","ak.cport":54341,"ak.gh":"23.220.178.206","ak.quicv":"","ak.tlsv":"tls1.3","ak.0rtt":"","ak.0rtt.ed":"","ak.csrc":"-","ak.acc":"","ak.t":"1764201465","ak.ak":"hOBiQwZUYzCg5VSAfCLimQ==t4c9d4u+naralfue9ZdLYR+eWlrUh0ClqadeUP6Ysm3//K5Jixlh7wOo48XMBnc+r6W+FVG7Gj9yErVnsPysrMx+YW3Am4vX7tx+MyL792NoMb8xEDhKbqo4BPbEI/aa4l/k/PSzwJm/KVWMhJX0vHXmLOVPz2JmyjV+69yrJQyipgQ8FYEGFHFZ+i/SPDsL06rRHevLW+Uii+ERMIvswqUXrpyLSw882PYjv3DrqCIumTZefkAejnicO9gZyYt2n1HIkreM+mwDnB5F4Vf9MqGMhpQrkgrnFxTEkWq0x8FqZUQuSg8mecXdNFwLZdosG3/NDK2MmsUJnwnil9+Kv0ElHNgYJrJYAjn3ab5UNbtme0C2YHmCV8L20IWgulsLWTolrUQ+rIcIMDPzZbXWPTura/22VywDgW9DMgp7Ves=","ak.pv":"536","ak.dpoabenc":"","ak.tf":i};if(""!==t)o["ak.ruds"]=t;var r={i:!1,av:function(n){var t="http.initiator";if(n&&(!n[t]||"spa_hard"===n[t]))o["ak.feo"]=void 0!==e.aFeoApplied?1:0,BOOMR.addVar(o)},rv:function(){var e=["ak.bpcip","ak.cport","ak.cr","ak.csrc","ak.gh","ak.ipv","ak.m","ak.n","ak.ol","ak.proto","ak.quicv","ak.tlsv","ak.0rtt","ak.0rtt.ed","ak.r","ak.acc","ak.t","ak.tf"];BOOMR.removeVar(e)}};BOOMR.plugins.AK={akVars:o,akDNSPreFetchDomain:a,init:function(){if(!r.i){var e=BOOMR.subscribe;e("before_beacon",r.av,null,null),e("onbeacon",r.rv,null,null),r.i=!0}return this},is_complete:function(){return!0}}}}()}(window);</script></head> 
 <body> 
  <code><script type="text/javascript"></script> 
   <link rel="stylesheet" href="wemdcmt.css"/> 
   <link rel="stylesheet" href="/etc/designs/cdc/transformation/wemdcmt.css"/></code> 
  <div class="WordSection1"> 
   <p class="pBody">&nbsp;</p> 
   <p class="pIntroCMT" style="page-break-before:always">The Cisco Unified Computing System<span class="Superscript"><sup class=" cSuperscript">â„¢</sup></span> (Cisco UCS<span class="Superscript"><sup class=" cSuperscript">&reg;</sup></span>) is a next-generation data-center platform that unites computing, networking, storage access, and virtualization resources into a cohesive system designed to reduce Total Cost of Ownership (TCO) and increase business agility.</p> 
   <p class="pBody">The fifth-generation Cisco UCS Virtual Interface Card 15000 series supports low-latency, lossless 10/25/40/50/100/200 Gigabit Ethernet and Fibre Channel over Ethernet speeds. Cisco UCS 15000 series virtual interface cards have next-generation converged network adapter technology, and a rich set of features for enterprise-class UCS X-Series compute nodes, B-Series blade servers, and C-Series rack servers.</p> 
   <p class="pToC_Subhead1"><a name="_Toc208886154"></a><a name="_Toc201730987">Overview</a></p> 
   <p class="pBody">The Cisco UCS Virtual Interface Card (VIC) incorporates Converged Network Adapter (CNA) technology and offers a comprehensive feature set, providing investment protection across multiple generations of UCS blade and rack servers.</p> 
   <p class="pBody">Cisco UCS VIC 15000 Series adapters leverage the next generation of ASICs for UCS VIC product family. It enables a range of bandwidth options to choose from â€“ 10/25/40/50/100/200 with latency ~1.0&micro;s. It also enables PCIe Gen4 for high-speed data bus for data transfer, control and data-plane offloads, enhanced Quality of Service (QoS), and Precision Time Protocol (PTP), among a host of other features. </p> 
   <p class="pBody">The Cisco UCS VIC 15000 Series is the fifth generation of VICs available in multiple form factors (15230, 15231, 15235, 15237,15238, 15411, 15420, 15422, 15425, 15427, and 15428) and speed (10/25/40/50/100/200 Gbps). For a comprehensive look into the supported features, please refer to the Cisco UCS VIC 15000 data sheet.</p> 
   <p class="pToC_Subhead1"><a name="_Toc208886155"></a><a name="_Toc201730988">Audience</a></p> 
   <p class="pBody">The audience for this document consists of system architects, system administrators, network administrators, and any other technical staff who are responsible for planning and maintaining the Cisco UCS infrastructure. Although every effort has been made to make this document appeal to the widest possible audience, the document assumes that readers understand Cisco UCS hardware, terminology, and its configuration management.</p> 
   <p class="pToC_Subhead1"><a name="_Toc208886156"></a><a name="_Toc201730989">Objective</a></p> 
   <p class="pBody">This document tries to address some of the frequently asked questions about the Cisco UCS VIC 15000 Series and the recommended practices from an Ethernet fabric perspective. The following topics are addressed in this document: bandwidth with VIC 15000 on blade and rack servers, UCS-X Series compute nodes, best-practices for adapter policies, overlay offloads, FEC settings, and various VIC connectivity considerations for rack servers.</p> 
   <p class="pToC_Subhead1" style="page-break-before:always"><a name="_Toc208886157"></a><a name="_Toc201730990">Bandwidth on B-Series blade-servers</a></p> 
   <p class="pBody">Cisco UCS B200 M6 Blade Server supports Cisco VIC 15411 dual-port 40G mLOM. There is no support for the Cisco UCS VIC 15000 Series mezzanine card form factor on Cisco UCS B-Series blade servers. The VIC 15411 also can work with an optional Port Expander (PE), which enables extra bandwidth on the VIC 15411 adapter. </p> 
   <p class="pBody">Cisco UCS 5108 Blade Server Chassis has 32x10G-KR backplane Ethernet connections from each Cisco<span class="Superscript"><sup class=" cSuperscript">&reg;</sup></span>&nbsp;I/O&nbsp;Module (IOM) toward the VIC cards on 8xB200 servers. This equates to 4x10G backplane traces per B200 server per IOM. These backplane traces originate from the Cisco VIC as uplink ports UIF0 (side A) / UIF1 (side&nbsp;B) and terminate on each IOM as a Host Interface (HIF). </p> 
   <p class="pBody">The available bandwidth and throughput from B200 M6 servers depend on the IOM hardware version and the combination of Cisco VIC 15411 and port expander. vNICs and vHBAs created through service profiles get bonded to either 20G or 40G uplinks, depending on the presence of a port expander. In a single flow, vNIC/vHBA can achieve a bandwidth of 20G or 40G depending on the type of IOM and port expander installed.</p> 
   <p class="pBody">The Figure 1 shows the connectivity on a UCS 5108 chassis with a Cisco UCS 2408 Fabric Extender connected to a Cisco UCS 6454 Fabric Interconnect (FI). The red lines are the 25Gbps physical connections from IOM to FI while the blue lines show the 10G-KR backplane connections from the IOM toward the VIC 15411 on a B200 M6 server.</p> 
   <p class="pBody"><img width="648" height="513" id="Picture 1" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_0.png" alt="Cisco UCS 5108 Blade Server Chassis with FI 6454 and UCS 2408"/></p> 
   <div class=" pDefault">
     Figure 1. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">Cisco UCS 5108 Blade Server Chassis with FI 6454 and UCS 2408</p> 
   <p class="pBody">The half-width blade server (B200 M6) on a UCS 5108 chassis can have the following combinations:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>mLOM (VIC 15411) installed on a blade server</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span lang="FR" style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span lang="FR">mLOM (VIC 15411) + Port Expander (PE)</span></p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>IOMs (2204/2208, 2304v1/v2, or 2408) on the chassis</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Fabric interconnects (FI 6332/6332-16UP series, FI 6454/64108 series, or FI 6536 series)</p> 
   <p class="pBody" style="margin-top:7.0pt">The Table 1 shows the throughput per B200 M6 server with 15411 and 15411 + PE combinations. The throughput from the server is calculated across both the fabric interconnects in the UCS domain. </p> 
   <p class="pTableCaptionCMT"><b>Table 1.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b>VIC 15411 throughput per B200 M6 blade server</p> 
   <div> 
    <table border="1" cellpadding="6" cellspacing="0" width="100%" bordercolor="#ADADAD"> 
     <thead> 
      <tr valign="top" align="left"> 
       <td> <p class="Cellhead1"><span lang="FR" style="color:white">Adapter combination on B200 M6</span></p> </td> 
       <td> <p class="Cellhead1"><span style="color:white">FI 6536/6400 + IOM 2408</span></p> </td> 
       <td> <p class="Cellhead1"><span style="color:white">FI 6536/6300 + IOM 2304</span></p> </td> 
       <td> <p class="Cellhead1"><span style="color:white">FI 6400/6300 + IOM 2208</span></p> </td> 
       <td> <p class="Cellhead1"><span style="color:white">FI 6400/6300 + IOM 2204</span></p> </td> 
      </tr> 
     </thead> 
     <tbody> 
      <tr valign="top" align="left"> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none"><b>15411</b></p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">40G</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">40G</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">40G</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">20G</p> </td> 
      </tr> 
      <tr valign="top" align="left"> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none"><b>15411 + PE</b></p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">80G<span class="Superscript"><sup class=" cSuperscript">*</sup></span></p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">80G<span class="Superscript"><sup class=" cSuperscript">*</sup></span></p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">N/A</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">N/A</p> </td> 
      </tr> 
     </tbody> 
    </table> 
   </div> 
   <div class=" pDefault"> 
    <span class="Superscript"><sup class=" cSuperscript">*</sup></span> Recommended combination of FI/IOM/VIC for B200 M6 server for maximum available bandwidth 
   </div> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>FI 6400 series does not support IOM 2304.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>FI 6536 does not support IOM 2204 or 2208.</p> 
   <p class="pSubhead2CMT">B200 M6, VIC 15411, port expander, IOM 2304 and 2308</p> 
   <p class="pBody">On a B200 M6, VIC 15411 can have 20G or 40G vNICs. And the vNIC speed seen on the server depends on the VIC and port expander combinations installed on the blade server, as in the following:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>With 15411 alone on a B200 M6, the server will see 40Gbps (2x20) throughput with all IOMs except 2204. Without a port expander, vNIC on 15411 will only see a speed of 20G or 2x10G, and the vNIC will have an aggregate bandwidth of 20G with a maximum single-flow bandwidth of 20Gbps.</p> 
   <p class="pBody" style="margin-top:10.0pt"><img width="864" height="471" id="Picture 2" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_1.png" alt="B200 M6 with VIC 15411 and IOM 2304"/></p> 
   <div class=" pDefault" style="margin-top:6.0pt">
     Figure 2. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">B200 M6 with VIC 15411 and IOM 2304</p> 
   <p class="pBody"><img width="864" height="471" id="Picture 3" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_2.png" alt="B200 M6 with VIC 15411 and IOM 2408"/></p> 
   <div class=" pDefault">
     Figure 3. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">B200 M6 with VIC 15411 and IOM 2408</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>15411 with port expander on B200 M6 will enable a 40G KR4 interface toward IOM 2304 or IOM 2408. This enables a total of 80Gbps throughput per blade server. The servers, in this case, will see a vNIC bandwidth of 40Gbps, and each vNIC will support a maximum single flow of 40Gbps. Figures 4 and 5 depict the backplane connections that are enabled on a B200 M6 server with a VIC15411 and a port expander. </p> 
   <p class="pBody" style="margin-top:10.0pt"><img width="864" height="471" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_3.png" alt="B200 M6 with VIC 15411 + port expander and IOM 2304"/></p> 
   <div class=" pDefault">
     Figure 4. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">B200 M6 with VIC 15411 + port expander and IOM 2304</p> 
   <p class="pBody"><img width="864" height="471" id="Picture 5" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_4.png" alt="B200 M6 with VIC 15411 + port expander and IOM 2408"/></p> 
   <div class=" pDefault">
     Figure 5. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">B200 M6 with VIC 15411 + port expander and IOM 2408</p> 
   <p class="pBody">Please note that these are 40G-KR4 interfaces from the VIC 15411+PE toward the IOM 2304/2408 and not toward a 4x10Gbps hardware port channel.</p> 
   <p class="pBody">Even though 40G-KR4 becomes enabled between a VIC 15411+PE and an IOM 2408, the connection to a FI 6400/6536 series from an IOM-2408 is through 25Gbps Ethernet links. And on the IOM, a single flow from the server/vNIC gets hashed to one of the IOM-2408 25Gbps ports; hence, each vNIC can achieve a maximum single-flow bandwidth of 25Gbps, even though the server-to-IOM connectivity is 40G KR4 or native 40Gbps. This may result in initial transient packet-drops due to the bandwidth mismatch.</p> 
   <p class="pToC_Subhead1"><a name="_Toc208886158"></a><a name="_Toc201730991">Rate limit QoS policy: VIC 15000 with IOM 2408</a> </p> 
   <p class="pBody">To avoid initial transient packet drops for a flow on the IOM 2408 due to a bandwidth mismatch of 40Gbps from the server toward IOM 2408 and the 25Gbps Ethernet connection between IOM 2408 and FI 6400/6536, the vNICs can be rate limited to 25Gbps. The vNIC rate-limiting can be achieved through a QoS policy applied to the vNIC. Figure 6 shows such a policy and its application.</p> 
   <p class="pBody"><img width="720" height="291" id="Picture 4" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_5.jpg" alt="vNIC rate-limiting configuration in Cisco UCS Manager"/></p> 
   <div class=" pDefault">
     Figure 6. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">vNIC rate-limiting configuration in Cisco UCS Manager</p> 
   <p class="pBody"><img width="792" height="489" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_6.jpg" alt="vNIC rate-limiting configuration in Cisco Intersight&reg; Managed Mode"/></p> 
   <div class=" pDefault">
     Figure 7. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">vNIC rate-limiting configuration in Cisco Intersight<span class="Superscript"><sup class=" cSuperscript">&reg;</sup></span> Managed Mode</p> 
   <p class="pToC_Subhead1"><a name="_Toc208886159"></a><a name="_Toc201730992">Bandwidth on Cisco UCS X-Series compute nodes</a></p> 
   <p class="pBody">A Cisco UCS X210c Compute Node can have two VICs in mLOM and mezzanine form-factor and supports mLOM VIC 15230, 15231, 15420, and an optional VIC 15422 (mezzanine). The UCS X210c compute node with VIC 15230/15231 can provide 100G bandwidth to each side when installed with X9108-IFM-100G on a Cisco UCS X9508 Chassis. This results in cumulative bandwidth of 200G per X210c compute node. Similarly, mLOM 15420 and mezzanine 15422 on the UCS X210c compute node with either X9180-IFM-25G or X9180-IFM-100G can provide a cumulative bandwidth of 200G per compute node.</p> 
   <p class="pBody">Note that on UCS X210c compute nodes, mixing 100G mLOMs (VIC15230/15231) with a mezzanine form factor VIC15422 is not supported. </p> 
   <p class="pBody">Additionally, the X9508 chassis bandwidth is dependent on the intelligent Fabric Module (IFM) or fabric interconnect. The available options are:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Intelligent Fabric Modules (IFMs): X9108-IFM-25G or X9108-IFM-100G </p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Fabric Interconnects (FIs): UCS-FI-6536 or UCS-FI-6454/64108 (FI 6400 series)</p> 
   <p class="pBody">The UCS X9508 chassis has a backplane-less design, which allows the chassis to provide newer and higher operating speeds on the server by swapping out the intelligent fabric modules in the chassis or the virtual interface card on the servers. An example is shown in Figure 8, where the chassis bandwidth can be quadrupled to 1600Gbps from 400Gbps by swapping out the IFM-25G with the latest IFM-100G.</p> 
   <p class="pBody"><img width="867" height="436" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_7.jpg" alt="Cisco UCS X9508 Chassis, backplane-less design"/></p> 
   <div class=" pDefault">
     Figure 8. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">Cisco UCS X9508 Chassis, backplane-less design</p> 
   <p class="pBody">In an X9508 chassis, each VIC 15420 and 15422 has 2x25G-KR lines to each IFM-25G or IFM-100G. Figure 9 shows the end-to-end connectivity from FI 6536 to the X210c compute nodes. </p> 
   <p class="pBody">As shown in Figure 9, each X210c compute node has 8x25G-KR Ethernet connectivity to both the IFMs in a chassis, as represented by the red links. And the X9108-IFM-100G/25G will have 100G/25G Ethernet connectivity through physical cables to the Cisco UCS 6400-series/6536 fabric interconnect, represented by the blue links.</p> 
   <p class="pBody"><img width="867" height="412" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_8.jpg" alt="Cisco UCS X9508 Chassis, end-to-end connectivity with VIC 15420+15422"/></p> 
   <div class=" pDefault">
     Figure 9. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">Cisco UCS X9508 Chassis, end-to-end connectivity with VIC 15420+15422</p> 
   <p class="pBody" style="page-break-before:always">In the X210c compute node, with both VIC 15420 and 15422 installed, each VIC will have 4x25G-KR connectivity to both IFMs; also, having two VICs will enable 8x25G-KR Ethernet connectivity. Thus, across both VICs on the X210c compute node, there will be a total aggregate bandwidth of 200Gbps. Note that VIC 15422 is an optional mezzanine VIC that enables higher throughput, redundancy, and better CPU core utilization for server I/O.</p> 
   <p class="pBody">Since each VIC will have 2x25G-KR connectivity to each IFM-100G/25G, the vNIC/vHBA that is provisioned on the VIC will have 50Gbps of bandwidth. So, an X210c compute node with VIC 15420 and 15422 will see 100G vNIC/vHBA on the ESXi/Linux/Windows OS. Figure 10 shows the vNIC/vHBA speed as seen on a Linux host.</p> 
   <p class="pBody"><img width="720" height="367" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_9.jpg" alt="vNIC/vHBA speed seen by Linux OS with VIC 15420+15422"/></p> 
   <div class=" pDefault">
     Figure 10. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">vNIC/vHBA speed seen by Linux OS with VIC 15420+15422</p> 
   <p class="pBody">Table 2 shows a summary of the bandwidth, speed, and feeds possible with VIC 15000 series across various IFM and FI combinations. Note that FI-6536 supports both IFM-25G and IFM-100G while the FI-6400 series supports only IFM-25G.</p> 
   <p class="pTableCaptionCMT"><b>Table 2.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b>Cisco UCS X210c bandwidth options with Cisco UCS VIC 15000 series adapters</p> 
   <div> 
    <table border="1" cellpadding="6" cellspacing="0" width="100%" bordercolor="#ADADAD"> 
     <thead> 
      <tr valign="top" align="left"> 
       <td> <p class="Cellhead1"><span style="color:white">Cisco UCS X210c Compute Node</span></p> </td> 
       <td> <p class="Cellhead1"><span style="color:white">A</span></p> <p class="Cellhead1"><span style="color:white">Fl-6536 + </span></p> <p class="Cellhead1"><span style="color:white">X9108-IFM-100G</span></p> </td> 
       <td> <p class="Cellhead1"><span style="color:white">B</span></p> <p class="Cellhead1"><span style="color:white">Fl-6536/6400-Series</span></p> <p class="Cellhead1"><span style="color:white">+</span></p> <p class="Cellhead1"><span style="color:white">X9108-IFM-25G</span></p> </td> 
       <td> <p class="Cellhead1"><span style="color:white">C</span></p> <p class="Cellhead1"><span style="color:white">Fl-6536 + X9108-IFM-25G/100G</span></p> <p class="Cellhead1"><span style="color:white">or</span></p> <p class="Cellhead1"><span style="color:white">Fl-6400-Series + X9108-IFM-25G</span></p> </td> 
       <td colspan="2"> <p class="Cellhead1"><span style="color:white">D</span></p> <p class="Cellhead1"><span style="color:white">Fl-6536 + X9108-IFM- 25G/100G</span></p> <p class="Cellhead1"><span style="color:white">or</span></p> <p class="Cellhead1"><span style="color:white">Fl-6400-Series + X9108-IFM-25G</span></p> </td> 
      </tr> 
     </thead> 
     <tbody> 
      <tr valign="top" align="left"> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none"><b>x210c configuration</b></p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">VIC 15231</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">VIC 15231</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">VIC 15420</p> </td> 
       <td colspan="2"> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">VIC 15420 + VIC 15422</p> </td> 
      </tr> 
      <tr valign="top" align="left"> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none"><b>Throughput per node</b></p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">200G (100G per IFM)</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">100G (50G per IFM)</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">100G (50G per IFM)</p> </td> 
       <td colspan="2"> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">200G (100G per IFM)</p> </td> 
      </tr> 
      <tr valign="top" align="left"> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none"><b>vNICs needed for max BW</b></p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">2</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">2</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">2</p> </td> 
       <td colspan="2"> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">4</p> </td> 
      </tr> 
      <tr valign="top" align="left"> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none"><b>KR connectivity per IFM</b></p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">lx 100GKR</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">2x 25GKR</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">2x 25GKR</p> </td> 
       <td colspan="2"> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">4x 25GKR</p> </td> 
      </tr> 
      <tr valign="top" align="left"> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none"><b>Single vNIC throughput on VIC</b></p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">100G</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">50G (2x25G KR)</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">50G (2x25G KR)</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">50G (2x25G KR)</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">50G (2x25G KR)</p> </td> 
      </tr> 
      <tr valign="top" align="left"> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none"><b>Maximum single flow BW per vNIC</b></p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">100G</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">25G</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">25G</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">25G</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">25G</p> </td> 
      </tr> 
      <tr valign="top" align="left"> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none"><b>Single vHBA throughput on VIC</b></p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">100G</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">50G</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">50G</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">50G</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">50G</p> </td> 
      </tr> 
     </tbody> 
    </table> 
   </div> 
   <p class="pBody" style="margin-top:10.0pt">Figures 11 through 14 are representations of the internal connectivity from the IFM to the X210c compute node with VIC 15231/15230, VIC 15420, and VIC 15420+15422 combo. These figures show the 25G-KR connectivity from IFM to VIC and the dynamically provisioned vNIC/vHBA, the Ethernet NIC or FC HBA interfaces for the operating system, on the VIC.</p> 
   <p class="pBody"><img width="864" height="470" id="Picture 6" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_10.png" alt="vNIC/vHBA internal connectivity between VIC 15231/15230 and 100G IFM"/></p> 
   <div class=" pDefault">
     Figure 11. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">vNIC/vHBA internal connectivity between VIC 15231/15230 and 100G IFM</p> 
   <p class="pBody"><img width="864" height="470" id="Picture 7" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_11.png" alt="vNIC/vHBA internal connectivity between VIC 15231/15230 and 25G IFM"/></p> 
   <div class=" pDefault">
     Figure 12. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">vNIC/vHBA internal connectivity between VIC 15231/15230 and 25G IFM</p> 
   <p class="pBody"><img width="864" height="470" id="Picture 8" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_12.png" alt="vNIC/vHBA internal connectivity between VIC 15420 and 25G/100G IFMs"/></p> 
   <div class=" pDefault">
     Figure 13. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">vNIC/vHBA internal connectivity between VIC 15420 and 25G/100G IFMs</p> 
   <p class="pBody"><img width="864" height="482" id="Picture 9" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_13.png" alt="vNIC/vHBA internal connectivity between VIC 15420+15422 and 25G/100G IFMs"/></p> 
   <div class=" pDefault">
     Figure 14. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">vNIC/vHBA internal connectivity between VIC 15420+15422 and 25G/100G IFMs</p> 
   <p class="pToC_Subhead1"><a name="_Toc208886160"></a><a name="_Toc201730993">Performance tuning for Cisco UCS VIC 15000 Series adapters</a></p> 
   <p class="pBody">Performance tuning of a Cisco UCS server involves: BIOS policy tuning, VIC adapter tuning, and OS tuning. </p> 
   <p class="pBody">BIOS policy tuning for UCS servers is detailed in the white paper â€œPerformance Tuning Best Practices Guide for Cisco UCS M7 Servers.â€<a href="#_ftn1" name="_ftnref1" title=""><span class="Superscript"><sup class=" cSuperscript">[1]</sup></span></a></p> 
   <p class="pBody">OS tuning is not something specific to UCS servers, and you should follow the best practices for the OS you are using. The focus of this section is to provide VIC-tuning recommendations for achieving maximum performance from Cisco UCS VIC 15000 adapters.</p> 
   <p class="pBody">The focus will be primarily on the following VIC 15000 features and recommendations to maximize performance:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Enhanced ring-size buffer allocation</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>VIC adapter policy with RSS for Linux, Windows, and ESXi</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>NetQueue support for ESXi</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Virtual Machine Multiple Queues (VMMQ) support for Windows</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Single-Root I/O Virtualization (SR-IOV) support for Linux and ESXi</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>NetFlow support</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Maximum Transmission Unit (MTU) settings</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Overlay offload</p> 
   <p class="pBody" style="margin-top:10.0pt;page-break-before:always">In Cisco UCSM and IMM, there are predefined adapter policies available based on the application and OS. The default Ethernet adapter-policies on UCSM/IMM for the various operating systems with VIC 15000 based on specific feature support are as follows:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Ethernet adapter-policy â€œLinuxâ€ for Linux, â€œWindowsâ€ for Windows and â€œVMWareâ€ for ESXi environments</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Ethernet adapter-policy â€œLinux-NVMe-RoCEâ€ for Linux supporting RoCEv2</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Ethernet adapter-policy â€œSR-IOV-HPNâ€ (single-root I/O virtualization high-performance networking)</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Ethernet adapter-policy â€œMQ-SMBdâ€ for Windows SMB Direct with RoCEv2 Mode 2</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Ethernet adapter-policy â€œWin-HPNâ€ for Windows VMMQ support</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Ethernet adapter-policy â€œWin-HPN-SMBdâ€ for Windows SMB Direct with RoCEv2 Mode 1</p> 
   <p class="pBody" style="margin-top:7.0pt">The default adapter policies across operating systems and workloads are good enough for the majority of UCS server deployments. But at the same time, depending on applications and server needs, you will have to modify or define new adapter policy. </p> 
   <p class="pBody">These adapter-policy recommendations are independent of the Cisco Validated Design (CVD) recommendations for the various UCS solutions. The CVD recommendations should be followed when deploying the corresponding CVD solutions. Also, please note that, depending on the application, multiple TX/RX queues could be defined differently from the values given in the table, and these adapter-policy recommendations are for the VIC 15000 series.</p> 
   <p class="pBody">VIC 15000 series adapters support Receive-Side Scaling (RSS), Virtual Machine Queue (VMQ), Virtual Machine Multiple Queues (VMMQ), and SR-IOV for both Linux and ESXi. The following sections will cover nuances of each of these features that are specific to VIC 15000, and customers can deploy any of these solutions based on their application requirements.</p> 
   <p class="pBody">With Cisco UCSM/IMM Release 4.3(4a), new optimized adapter policies are available for Windows, Linux, and VMware operating systems. These policies are optimized for performance with Cisco UCS VIC 15000 Series adapters. They have fine-tuned adapter parameters set as the defaults under resources and configuration options, as applicable. These adapter settings are recommended for VIC 15000 series and are optimized for high-performance networking on Linux, VMware, and Windows operating environments. Below is the list of new adapter policies for various operating systems with the VIC 15000 series:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Ethernet adapter-policy â€œLinux-v2â€ and â€œVMWare-v2â€ - recommended adapter settings for VIC 15000 series and optimized for Linux and VMWare high-performance networking</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Ethernet adapter-policy â€œMQ-v2â€ - recommended adapter settings for VIC 15000 series and optimized for virtual machine multiple queues high-performance networking</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Ethernet adapter-policy â€œWin-HPN-v2â€ - recommended adapter settings for VIC 15000 series and optimized for Windows high-performance networking for Windows VMMQ support</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Ethernet adapter-policy â€œWin-HPN-SMBd-v2â€ - recommended adapter settings for VIC 15000 series and optimized for Windows SMBd high performance networking for Windows SMB Direct.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Ethernet adapter-policy â€œMQ-SMBd-v2â€ â€“ recommended adapter settings for VIC 15000 series for Windows with RoCEv2 Mode 2 support</p> 
   <p class="pToC_Subhead2" style="page-break-before:always"><a name="_Toc208886161"></a><a name="_Toc201730994">Enhanced ring-size buffer allocation</a></p> 
   <p class="pBody">Cisco UCS VIC 15000 Series adapters now support up to a ring size of 16K (specifically, 16,384). This enables a higher number of packet descriptors that can be stored in the memory reserved for the adapter before they are processed by the host systemâ€™s CPU. This applies to both â€œreceiveâ€ and â€œtransmitâ€ queues. Having a 16K ring size buffer offers several advantages: </p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b>Reduced CPU usage:</b> A larger ring size allows the adapter to buffer more incoming packets before requiring CPU attention. This reduces the frequency of interrupt calls to the CPU, which results in lower overall CPU utilization and improves system performance.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b>Improved network throughput:</b> with a larger ring size, the adapter can efficiently handle a higher volume of network traffic without overwhelming the CPU, resulting in lower latency and better throughput.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b>Buffering for â€œburstyâ€ traffic:</b> Larger ring sizes are particularly beneficial for handling â€œburstyâ€ traffic patterns, where packets arrive in quick succession. Adapter can buffer these packets in the ring, preventing packet drops and ensuring consistent performance.</p> 
   <p class="pBody" style="margin-top:7.0pt">A larger network adapter ring size can be advantageous for high-performance networking. It should be chosen based on available system resources and type of network workload.</p> 
   <p class="pBody"><img width="867" height="341" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_14.jpg" alt="Enhanced ring-size buffer configuration options for Cisco UCS VIC 15000 Series in UCSM/IMM"/></p> 
   <div class=" pDefault">
     Figure 15. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">Enhanced ring-size buffer configuration options for Cisco UCS VIC 15000 Series in UCSM/IMM</p> 
   <p class="pBody"><img width="533" height="306" id="Picture 17" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_15.jpg" alt="Enhanced ring-size buffer setting at the adapter and OS level"/></p> 
   <div class=" pDefault">
     Figure 16. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">Enhanced ring-size buffer setting at the adapter and OS level</p> 
   <p class="pToC_Subhead2"><a name="_Toc208886162"></a><a name="_Toc201730995">Adapter policy with RSS</a></p> 
   <p class="pBody">Receive-side scaling, or RSS, is a VIC hardware feature that allows for distributing traffic across multiple RX queues on the adapter and thus enable receive queues getting processed across multiple CPU cores by the host operating system. Having traffic spread across multiple RX queues and processed by different CPU cores helps in driving higher network throughput. It results in better CPU utilization and minimizing CPU hogging. </p> 
   <p class="pBody">RSS improves network performance by reducing:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Processing delays by distributing network receive processing over multiple CPUs. This helps in optimizing load on CPU cores.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Spinlock overhead by increasing the probability of shared data execution on multiple CPU cores. For example, spinlock overhead occurs when a function executing on a CPU0 possesses spin lock on data that a function running on CPU1 must access; thereby, CPU1 spins (waits) until CPU0 releases the lock.</p> 
   <p class="pBody">Having an adapter policy with RSS enables VIC hardware solution, in which packets are load balanced across multiple RX queues based on the packetsâ€™ Layer-2, Layer-3, and Layer-4 headers. This is an optimized solution for improving performance in bare-metal (Windows, Linux) and hypervisor (ESXi, KVM) environments.</p> 
   <p class="pBody"><img width="577" height="371" id="Picture 10" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_16.png" alt="Receive queues mapping to CPU cores with RSS enablement"/></p> 
   <div class=" pDefault">
     Figure 17. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">Receive queues mapping to CPU cores with RSS enablement</p> 
   <p class="pBody">Along with the higher number of RX queues and RSS, another important performance improvement consideration is to increase the ring size per queue on the VIC adapter. Increasing the ring size allows more packet buffer per queue, thus preventing packet drops and retransmissions. </p> 
   <p class="pBody">All the configuration parameters â€“ TX/RX queues, ring size, and feature RSS â€“ are activated through the adapter policy attached to a vNIC and deployed through server profile on server using either Cisco UCS Manager or Cisco Intersight. Same can be done through the vNIC properties in the Cisco Integrated Management Controller (IMC) for a standalone rack server.</p> 
   <p class="pBody" style="page-break-before:always">Table 3 presents adapter policy recommendations in terms of TX/RX queues and RSS that address the majority of higher throughput and performance requirements. </p> 
   <p class="pTableCaptionCMT"><b>Table 3.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b>Recommended adapter policy for the best performance with RSS<span class="Superscript"><sup class=" cSuperscript">*</sup></span></p> 
   <div> 
    <table border="1" cellpadding="6" cellspacing="0" width="100%" bordercolor="#ADADAD"> 
     <thead> 
      <tr valign="top" align="left"> 
       <td> <p class="Cellhead1"><span style="color:white">Parameter</span></p> </td> 
       <td> <p class="Cellhead1"><span style="color:white">ESXi</span></p> </td> 
       <td> <p class="Cellhead1"><span style="color:white">Linux</span></p> </td> 
       <td> <p class="Cellhead1"><span style="color:white">Windows</span></p> </td> 
      </tr> 
     </thead> 
     <tbody> 
      <tr valign="top" align="left"> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none"><b>TX queue</b></p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">1</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">1</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">1</p> </td> 
      </tr> 
      <tr valign="top" align="left"> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none"><b>TX ring size</b></p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">4096</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">4096</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">4096</p> </td> 
      </tr> 
      <tr valign="top" align="left"> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none"><b>RX queue</b></p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">8</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">8</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">8</p> </td> 
      </tr> 
      <tr valign="top" align="left"> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none"><b>RX ring size</b></p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">4096</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">4096</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">4096</p> </td> 
      </tr> 
      <tr valign="top" align="left"> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none"><b>CQ</b></p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">9</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">9</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">9</p> </td> 
      </tr> 
      <tr valign="top" align="left"> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none"><b>Interrupt</b></p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">11(CQ + 2)</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">10 or 11(CQ + 2)</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">512 or â€œ2 x CPU-cores + 4â€<span class="Superscript"><sup class=" cSuperscript">*</sup></span></p> </td> 
      </tr> 
      <tr valign="top" align="left"> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none"><b>RSS</b></p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">Enabled</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">Enabled</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">Enabled</p> </td> 
      </tr> 
     </tbody> 
    </table> 
   </div> 
   <div class=" pDefault"> 
    <span class="Superscript"><sup class=" cSuperscript">*</sup></span> Cisco UCS VIC 15000 Series adapter has a hardware limit of 3072 interrupt count per adapter. And as such a maximum of 5 vNICs with 512 interrupt counts each is supported. Remaining interrupt counts are reserved for system use. 
   </div> 
   <p class="pBody"><b>Note:</b> With Cisco UCSM/IMM release 4.3(4a), these recommended adapter configuration parameters have now been built into new system provided adapter policies, suffixed with â€œ-v2â€ for the VMWare, Linux and Windows operating systems that use VIC 15000 adapters. Users can now directly apply these policies without a need to create user-defined policies with configuration parameters taken from the table above.</p> 
   <p class="pBody" style="margin-bottom:10.0pt">The completion Queue (CQ) is â€œRX + TXâ€ for all operating systems. Included below are some of the adapter-policy recommendations for ESXi, Linux, and Windows OS with multiple TX/RX queues and RSS.</p> 
   <p class="pSubhead2CMT">ESXi</p> 
   <p class="pBody">Cisco UCS VIC 15000 adapter-policy considerations for the VIC RSS feature with ESXi are the following:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>The maximum number of RX queues is 16 for most ESXi versions (the exception is ESXi 6.0, which supports up to 8 RX queues).</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Having a ring size of 4096 for TX/RX queues allows for more packet buffering; it helps in overall throughput and having lower retransmissions. We can set the ring size up to a maximum supported value of 16,000.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>If the pNIC/VMNIC statistics in the ESXi host show â€œrx_no_bufsâ€ as incrementing, this indicates slower processing of packets by the ESXi host; the recommended fix is to increase the RX queues or the RX ring-size, or a combination of both, on the vNIC adapter policy.</p> 
   <p class="pBody" style="margin-top:7.0pt;page-break-before:always">Figure 18 shows an adapter-policy with RSS that is applied on a vNIC from UCSM and the corresponding VMNIC interface statistics for an ESXi host.</p> 
   <p class="pBody"><img width="867" height="553" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_17.jpg" alt="Adapter policy in UCSM with RSS for ESXi host"/></p> 
   <div class=" pDefault">
     Figure 18. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">Adapter policy in UCSM with RSS for ESXi host</p> 
   <p class="pBody"><img width="867" height="506" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_18.jpg" alt="Adapter policy in Intersight with RSS for ESXi host"/></p> 
   <div class=" pDefault">
     Figure 19. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">Adapter policy in Intersight with RSS for ESXi host</p> 
   <p class="pSubhead2CMT">Linux</p> 
   <p class="pBody">For Linux, the following are the considerations for the VIC 15000 RSS feature depending on the eNIC driver version:</p> 
   <p class="pBody">Linux eNIC drivers prior to 3.2 release:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Supports a maximum of 8 TX and 8 RX queues with RSS.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Completion Queues (CQ) are the sum of Transmit Queues (TX) + Receive Queues (RX).</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>The interrupt calculation for these eNIC drivers is â€œCQ + 2 rounded up to nearest power of 2â€. </p> 
   <p class="pBullet2CMT" style="margin-bottom:10.0pt"><span style="font-family:&quot;Times New Roman&quot;,&quot;serif&quot;">â—¦<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp; </span></span>For example, if TX = 1 and RX = 8, then CQ = 9 (TX + RX), that will make Interrupt count = <br /> 16 {(CQ + 2) rounded up to the nearest power of 2}. </p> 
   <p class="pBody">Linux eNIC driver 3.2 and later releases:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Supports interrupt sharing for RX/TX queues allowing greater than 8 RX and 8 TX queues.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Supports up to 256 RX and TX queues, but it is recommended that they not be configured with more than the number of CPU cores that the server has.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Completion queues would be transmit queues + receive queues (â€œTX+RXâ€).</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Interrupt calculation would be â€œLarger of (RX,TX) + 2â€.</p> 
   <p class="pBullet2CMT"><span style="font-family:&quot;Times New Roman&quot;,&quot;serif&quot;">â—¦<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp; </span></span>For example, for TX = 4, RX = 8, and CQ = 12(TX + RX), the interrupt would be 10.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Increasing the ring size to 4096 for handling packet drops due to slower processing by the host OS is also applicable to Linux drivers.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Depending on application workload requirements, both the TX/RX queues and the ring size can be increased.</p> 
   <p class="pSubhead2CMT">Windows</p> 
   <p class="pBody">Currently the Windows RSSv2 feature is disabled.</p> 
   <p class="pToC_Subhead2"><a name="_Toc208886163"></a><a name="_Toc201730997">SR-IOV with ESXi</a></p> 
   <p class="pBody">SR-IOV is an extension to the PCI Express (PCIe) specification that allows devices such as network adapters to separate access to their resources among various PCIe hardware functions. These functions consist of the following two types:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Physical Function (PF): PF is associated with a hypervisor. PFs are full PCIe functions that can configure and manage SR-IOV functionality. It is possible to configure or control PCIe devices using PFs, and the PF has the full capability to move data in and out of the device.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Virtual Function (VF): VFs are lightweight PCIe functions that support data flows but have a restricted set of configuration resources.</p> 
   <p class="pBody">SR-IOV provides the capability to partition a single physical PCI resource into virtual PCI functions that can then be injected into a VM. In the case of network VFs, SR-IOV improves north-south network performance (that is, traffic with endpoints outside the host machine) by allowing traffic to bypass the host machineâ€™s network stack.</p> 
   <p class="pBody" style="page-break-before:always">Single-Root I/O Virtualization (SR-IOV) allows multiple VMs running variety of guest operating systems to share a single PCIe network adapter within a host server directly. It allows a single PCIe device (for example, a network adapter) to appear as multiple separate physical devices through VFs. VFs can be PCI passthroughs to guest operating system in virtual machines. This enables VMs to directly interact with PCI hardware without using a VMkernel as an intermediary, thus reducing latency and improving the CPU efficiency of the hypervisor host. SR-IOV allows a VM to move data directly to and from the network adapter, bypassing the hypervisor for increased network throughput. </p> 
   <p class="pBody">Beginning with the release 4.3(2b), Cisco UCS Manager provides single-root I/O virtualization high-performance networking (SRIOV-HPN) connection policy support on Cisco UCS M6 and M7 servers with Cisco UCS VIC 15000 Series adapters. SR-IOV support is also available in Cisco Intersight Managed Mode and Cisco IMC. Support is available with a VMWare ESXi hypervisor running Linux guest-operating systems. </p> 
   <p class="pBody">Figure 20 shows the relationship between various virtualization objects in a hypervisor host having a SR-IOV- enabled physical network adapter.</p> 
   <p class="pBody"><img width="721" height="646" id="Picture 11" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_19.png" alt="Relationship between PFs, VFs, port groups, virtual switch, hypervisor, and PCIe network adapter"/></p> 
   <div class=" pDefault">
     Figure 20. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">Relationship between PFs, VFs, port groups, virtual switch, hypervisor, and PCIe network adapter </p> 
   <p class="pBody">On the SR-IOV-enabled VIC adapter, PF with its SR-IOV VFs, together form a local switching domain. A PF and its VFs not only can transport traffic over the wire to other hosts or to a hardware switch, but can also perform local forwarding between each other. This is made possible by a VIC through a local switch. A packet sent by an SR-IOV VF interface in a VM gets switched locally if the destination MAC address is found to belong to another SR-IOV VF interface used by another VM that has the same PF. </p> 
   <p class="pBody"><img width="649" height="495" id="Picture 12" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_20.png" alt="Data path for traffic forwarding on VFs"/></p> 
   <div class=" pDefault">
     Figure 21. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">Data path for traffic forwarding on VFs</p> 
   <p class="pBody">A SR-IOV-enabled vNIC is compatible the following: </p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Consistent Device Name (CDN) support on host interface (PFs) only</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>DPDK supported on Linux guest-operating systems (VMs)</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>RSS support on the same vNIC</p> 
   <p class="pBody" style="margin-top:7.0pt">SR-IOV-enabled vNICs using SR-IOV-HPN policy cannot be used with any of the following:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>QinQ</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>VXLAN offload</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>GENEVE offload</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>ENS</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>NetQueue</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>NetFlow</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>RoCEv2</p> 
   <p class="pBody">The three steps given below need to be performed to enable the SR-IOV feature in supported operating environments:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>BIOS policy settings for Intel/AMD-processor-based Cisco UCS servers</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>SR-IOV vNIC connection policies in UCSM, IMM, and IMC</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Configuration in hypervisor and guest operating systems</p> 
   <p class="pBody" style="margin-left:.5in;text-indent:-.5in"><img width="867" height="469" id="Picture 1905942624" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_21.jpg" alt="BIOS policies for Intel and AMD processorâ€“based Cisco UCS servers"/></p> 
   <div class=" pDefault">
     Figure 22. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">BIOS policies for Intel and AMD processorâ€“based Cisco UCS servers</p> 
   <p class="pBody"><img width="932" height="560" id="Picture 1905942625" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_22.jpg" alt="Adapter policy required for SR-IOV in Cisco UCS Manager"/></p> 
   <div class=" pDefault">
     Figure 23. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">Adapter policy required for SR-IOV in Cisco UCS Manager</p> 
   <p class="pBody"><img width="932" height="540" id="Picture 1905942626" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_23.jpg" alt="Adapter policy for SR-IOV in IMM"/></p> 
   <div class=" pDefault">
     Figure 24. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">Adapter policy for SR-IOV in IMM</p> 
   <p class="pBody"><img width="868" height="283" id="Picture 38" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_24.png" alt="Adapter policy for SR-IOV in IMC"/></p> 
   <div class=" pDefault">
     Figure 25. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">Adapter policy for SR-IOV in IMC</p> 
   <p class="pBody">Configurations to enable SR-IOV functionality for the operating environment are required both at hypervisor and guest-operating system levels. VMware vSphere/ESXi 7.0 U3, and later versions, is the supported hypervisor, while Linux OS is for supported guest VMs. At the hypervisor layer, SR-IOV needs to be enabled with the required number of Virtual Functions (VFs). The number of VFs should not exceed the number of VFs set in the SR-IOV policy. On the Linux guest VM, asynchronous eNIC driver version 4.4.0.1-930.X, and later versions, supports SR-IOV VF network interfaces. </p> 
   <p class="pBody"><img width="932" height="458" id="Picture 1905942628" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_25.jpg" alt="Enabling SR-IOV functionality on ESXi hypervisor with Cisco VIC"/></p> 
   <div class=" pDefault">
     Figure 26. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">Enabling SR-IOV functionality on ESXi hypervisor with Cisco VIC</p> 
   <p class="pBody"><img width="932" height="424" id="Picture 1905942629" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_26.jpg" alt="SR-IOV configuration status on ESXi vSwitch"/></p> 
   <div class=" pDefault">
     Figure 27. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">SR-IOV configuration status on ESXi vSwitch</p> 
   <p class="pBody" style="page-break-before:always">Guest Linux VM boot mode setting should have secure boot mode disabled. The ESXi hypervisor supports Virtual Machines (VMs) using virtual BIOS. The virtual BIOS does not have a Cisco UCS eNIC driver public key installed by default even when running on the UCS server platform. This causes failure to load the asynchronous ENIC driver, resulting in operating system being unable to operationalize the VFsâ€™ network interface devices. </p> 
   <p class="pBody"><img width="576" height="494" id="Picture 1905942630" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_27.jpg" alt="VM option to disable secure boot"/></p> 
   <div class=" pDefault">
     Figure 28. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">VM option to disable secure boot</p> 
   <p class="pBody"><b>Note:</b> For secure booting of guest Linux VMs that have a SR-IOV function, the Cisco UCS driver signing the public key needs to enroll in VM BIOS. The procedure to install the public key will be provided in the Cisco UCS SR-IOV configuration guide. </p> 
   <p class="pBody"><img width="867" height="615" id="Picture 1905942631" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_28.jpg" alt="Displaying guest operating system driver version, PCI device status, and VF status at VIC firmware"/></p> 
   <div class=" pDefault">
     Figure 29. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">Displaying guest operating system driver version, PCI device status, and VF status at VIC firmware</p> 
   <p class="pToC_Subhead2"><a name="_Hlk201730926"></a><a name="_Toc208886164"></a><a name="_Toc201730998">NetQueue with ESXi</a></p> 
   <p class="pBody">NetQueue or VMQ on ESXi is a feature like the VIC RSS that can be used to achieve higher performance on Cisco UCS servers. NetQueue is an integrated hardware and software solution from both VMware and Cisco. </p> 
   <p class="pBody">NetQueue achieves higher throughput and performance by having dedicated a TX/RX queue per VM. So, while RSS is a hardware feature that enables multiple RX queues across multiple VMs, NetQueue dedicates a TX/RX queue for each VM. </p> 
   <p class="pBody">NetQueue takes advantage of the VIC 15000 series capability to deliver network traffic to the system in multiple receive queues that can be processed separately, allowing it to scale to multiple CPUs. Effective use of RX queues as allocated by VIC 15000 to vNICs, is enabled by managing the vNIC and VMkernel NetQueue balancer. This adapter filter is enabled by default in ESXi to use load-balancing algorithms. </p> 
   <p class="pBody">Note that on VIC 15000, RSS and NetQueue for ESXi are mutually exclusive features, and so either RSS or NetQueue should be used with ESXi.</p> 
   <p class="pBody" style="page-break-before:always">NetQueue on the vNIC is enabled through the VMQ connection policy. The following are the considerations for VMQ/NetQueue with ESXi and VIC 15000:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>When using VMQ for ESXi, there is no need to specify an adapter policy in Cisco UCSM/IMM; the default adapter policy is used. </p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>VIC 15000 can have a maximum of 16 VMQs per vNIC. </p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Depending on the number of VMQs defined, the adapter will allocate the same number (TX, RX) queues per vNIC. And each VM gets allocated a dedicated RX queue; on the transmit side, the VM traffic is distributed across multiple TX queues.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Interrupt for VMQ is calculated as â€œ2 x VMQ + 2â€.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>If the VMNIC statistics in the ESXi host show that â€œrx_no_bufsâ€ is incrementing with VMQ, the potential next step would be to increase the TX/RX queue ring sizes to 4096 using a custom adapter policy. </p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Note that the adapter policy used with VMQ would specify only one TX and one RX queue, and that no RSS is supported with an adapter policy when VMQ is used. RSS and VMQ are mutually exclusive for ESXi with VIC 15000.</p> 
   <p class="pBody" style="margin-top:7.0pt"><img width="932" height="525" id="Picture 1905942632" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_29.jpg" alt="VMQ configuration in UCSM for an ESXi host"/></p> 
   <div class=" pDefault">
     Figure 30. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">VMQ configuration in UCSM for an ESXi host</p> 
   <p class="pBody"><img width="640" height="435" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_30.png" alt="VMQ configuration in IMM for an ESXi host"/></p> 
   <div class=" pDefault">
     Figure 31. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">VMQ configuration in IMM for an ESXi host</p> 
   <p class="pBody"><img width="576" height="651" id="Picture 1905942634" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_31.jpg" alt="Queues allocated per vNIC on the ESXi host based on the VMQ configuration"/></p> 
   <div class=" pDefault">
     Figure 32. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">Queues allocated per vNIC on the ESXi host based on the VMQ configuration</p> 
   <p class="pBody" style="page-break-before:always">The VIC 15000 can utilize RSS or NetQueue/VMQ with ESXi and, while both provide similar performance, there are a few differentiating factors to decide on which solution suits a serverâ€™s needs: </p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Traffic hashing for RSS is across Layer-2/3/4 headers whereas VMQ/NetQueue hashes are based on the Layer-2 header of the packet. Thus, when an ESXi host has a greater number of VMs than the maximum number of allowable NetQueue/VMQs, RSS provides better RX traffic hashing or distribution across CPU cores.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>In scenarios involving multiple RX flows to a single VM, RSS can provide higher throughput. The reason is that for NetQueue/VMQ, only a single RX queue is dedicated per VM, whereas, for RSS, the traffic is distributed across all the RX queues of the vNIC.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>VMQ is to be used when an RX queue needs to be dedicated per VM. In the case of RSS, queues are not dedicated per VM.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>VMQ is helpful in scenarios where the TX performance is of concern, since, with VMQ, multiple TX queues are supported, and the traffic from a VM is distributed across multiple TX queues; whereas the adapter policies with RSS support only one TX queue. For server traffic generally, TX is never the bottleneck.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>For overlay networks built on ESXi; the VXLAN, and GENEVE offloads are available only with RSS and not with VMQ on the VIC 15000.</p> 
   <p class="pToC_Subhead2"><a name="_Toc201730999"></a><a name="_Toc208886165">Multiple TX/RX Queues with RSS</a> </p> 
   <p class="pBody">In an environment without <b>NetQueue</b>, the <b>Cisco ESXi driver version 2.0.0.17</b> introduces support for <b>multiple transmit (TX) and receive (RX) queues</b> with <b>Receive Side Scaling (RSS)</b> enabled. This feature is designed to enhance network performance by distributing network traffic across multiple CPU cores, enabling improved packet throughput and better utilization of system resources.</p> 
   <p class="pBody">By enabling parallel processing of network traffic and improving CPU resource utilization, this feature ensures that high performance workloads can run efficiently, even in the absence of NetQueue.</p> 
   <p class="pBody">The following configurations are best practices:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>8 TX + 8 RX with RSS enabled</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>CQ should be 16 (RX + TX) </p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>and Interrupts = 18 (CQ + 2)</p> 
   <p class="pBody" style="margin-top:10.0pt;margin-right:0in;margin-bottom:7.0pt;margin-left:.25in">or</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>16 TX + 16 RX with RSS enabled</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>CQ should be 32 (RX + TX) </p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>and Interrupts = 34 (CQ + 2)</p> 
   <p class="pBody" style="margin-top:7.0pt;page-break-before:always">The key benefits of this feature are:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b>Improved Packet Throughput:</b><br /> By distributing both TX and RX traffic across multiple queues, the driver significantly reduces bottlenecks caused by single-threaded processing. This ensures higher data rates, especially in high-throughput environments.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b>Enhanced Scalability:</b><br /> The use of multiple TX/RX queues allows for better scalability in virtualized environments. This is particularly useful as workloads and Virtual Machines (VMs) grow in size and complexity.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b>Optimized Resource Utilization:</b><br /> The combination of multiple queues with RSS ensures even distribution of network processing across available CPU cores, reducing the likelihood of CPU contention and improving overall system efficiency.</p> 
   <p class="pBody" style="margin-top:7.0pt">This feature is particularly beneficial in the following scenarios:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b>Single VM with High Network Throughput Requirements:</b><br /> When a single Virtual Machine (VM) is configured with a high-bandwidth interface (e.g., using the vmxnet3 adapter), enabling multiple TX/RX queues ensures optimal utilization of available resources and minimizes network latency.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b>High Performance Virtualized Environments:</b><br /> In environments where performance is critical, and NetQueue is not available, the use of RSS with multiple queues provides a viable alternative for achieving higher throughput.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span class="BodyChar">NetQueue and Receive Side Scaling (RSS) with multiple transmit (TX) queues differ significantly in how they allocate and utilize TX queues for virtual machine interfaces. In the case of NetQueue, each virtual machine's vmnxt3 interface is limited to a single TX queue, which can create bottlenecks in high-throughput environments. On the other hand, RSS with multiple TX queues allows a single vmnxt3 interface to leverage up to 16 TX queues. This enhanced allocation significantly improves data distribution and processing efficiency, enabling</span> better performance and scalability for virtualized network workloads.</p> 
   <p class="pToC_Subhead2" style="margin-top:12.0pt"><a name="_Toc208886166"></a><a name="_Toc201731000">VMMQ with Windows</a></p> 
   <p class="pBody">VMMQ, or virtual machine multiple queues, allows you to configure multiple I/O queues to a single VM and thus distribute traffic across multiple CPU cores in a VM. With VIC 15000 we can assign multiple hardware queues from it to a single vPort in a Hyper-V host. VIC 15000 distributes the network traffic across these queues using RSS hashing and places packets directly onto the assigned CPU cores. Offloading traffic distribution to the VIC hardware improves CPU performance, thereby relieving software stack to do other tasks. VMMQ enables efficient distribution of network traffic within VIC hardware. </p> 
   <p class="pBody">The Virtual Machine Queue (VMQ) policy with the multiple queue option enabled allows a vNIC to get placed into VMMQ mode. In this mode we can configure sub vNICs and specify a VMMQ adapter policy. This policy includes the aggregate queue counts for VMMQ and determines how the connectivity between VMs and vPorts is configured. So, 64 sub vNICs defined in VMQ policy will equate to 1x64 transmit queues and 8x64 receive queues in aggregate in the corresponding WIN-HPN/-v2 adapter policy. Each sub vNICs gets 1 TX and 8 RX queues. </p> 
   <p class="pBody" style="page-break-before:always">Figure 33 shows a high-level incoming packet flow from pNIC (Physical Network Interface) to vmNIC within Hyper-V host, with VMMQ enabled. It highlights how incoming packets are placed into the right vPort and corresponding RSS queues for VM CPU cores for processing.<a href="#_ftn2" name="_ftnref2" title=""><span class="Superscript"><sup class=" cSuperscript">[2]</sup></span></a></p> 
   <p class="pBody"><img width="908" height="469" id="Picture 14" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_32.png" alt="Receive path within the VMMQ interface for incoming network traffic"/></p> 
   <div class=" pDefault">
     Figure 33. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">Receive path within the VMMQ interface for incoming network traffic</p> 
   <p class="pBody">This diagram highlights the network packet receive path within the VMMQ interface. On the receive path, when a packet arrives at a vNIC with the VMMQ feature configured, the following steps are executed:</p> 
   <p class="pNumList1CMT" style="margin-bottom:7.0pt"><span style="font-family:&quot;Arial&quot;,&quot;sans-serif&quot;">1.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>The destination MAC address is matched to find the target vPort.</p> 
   <p class="pNumList1CMT" style="margin-bottom:7.0pt"><span style="font-family:&quot;Arial&quot;,&quot;sans-serif&quot;">2.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>The RSS hash value of the packet is calculated using the RSS parameters â€“ the secret key, the hash function, and the hash type of the vPort.</p> 
   <p class="pNumList1CMT" style="margin-bottom:7.0pt"><span style="font-family:&quot;Arial&quot;,&quot;sans-serif&quot;">3.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>This hash value is than used to index the Indirection Table (IT) associated with the vPort</p> 
   <p class="pNumList1CMT" style="margin-bottom:7.0pt"><span style="font-family:&quot;Arial&quot;,&quot;sans-serif&quot;">4.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Then an interrupt call is issued to the target processor (LP = logical processor) with an indication to the host network stack.</p> 
   <p class="pNumList1CMT" style="margin-bottom:7.0pt"><span style="font-family:&quot;Arial&quot;,&quot;sans-serif&quot;">5.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>The final step is to place the packet into the destination VMâ€™s vRSS-enabled Virtual Processorâ€™s (VPâ€™s) packet buffer for processing.</p> 
   <p class="pBody" style="page-break-before:always">For the VIC 15000, VMMQ is supported in Windows Server 2016 and following; and the recommendation for a Hyper-V host is to use VMMQ. Here are some of the considerations to keep in mind when using VMMQ on VIC 15000:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>On Windows Server 2016, VMMQ is not enabled by default; VMQ is the default option. To enable VMMQ, the server administrator must use the â€œSet-VMNetworkAdapterâ€ and â€œSet-NetAdapterâ€ commands.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Windows Server 2019 supports VMMQ by default and so no explicit configuration is needed on the server.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>VMMQ assigns one TX and multiple RX queues up to a maximum of eight per vPort and is configured through the Cisco UCSM/IMM/IMC Multi-Queue (MQ) policy.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Use of the predefined Cisco UCSM policies (â€œWin-HPN-v2â€ and â€œMQ-v2) to enable VMMQ and to get optimal performance is recommended; the policy definition is good for 64 vPorts.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>VMQ is a subset of VMMQ and, for VIC 15000, VMMQ is the recommended option.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>VMMQ on Windows supports VXLAN or NVGRE offload support and is enabled with the vNIC adapter policy.</p> 
   <p class="pBody">Detailed configuration guidelines for VMMQ are available in the UCSM â€œCisco UCS Manager Network Management Guide.â€<a href="#_ftn3" name="_ftnref3" title=""><span class="Superscript"><sup class=" cSuperscript">[3]</sup></span></a></p> 
   <p class="pBody">Summarizing some of these recommendations, enabling VMMQ on a vNIC in Cisco UCSM would require the following two configurations.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Attach a predefined UCSM adapter-policy â€œWin-HPN-v2â€ or a similar custom adapter-policy to the vNIC.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Include a VMQ connection policy on the vNIC. This policy is user-created under the LAN tab in UCSM and must have multi-queue enabled and use a predefined UCSM â€œMQ-v2â€ policy under VMMQ adapter policy drop down. </p> 
   <p class="pBody">When multi-queue is enabled, the vNIC is placed into VMMQ mode. In this mode, the user has an option to select the number for sub-vNICs. Each sub-vNIC will have a corresponding adapter policy selected under the VMMQ adapter policy field. Our recommendation is to use the pre-defined system policy â€œMQ-v2,â€ which by default enables pool mode. The predefined â€œMQ-v2â€ policy includes the aggregate queue counts available across the vPorts for VMMQ and determines how the connectivity between VMs and vPorts/sub-vNICs is configured.</p> 
   <p class="pBody">Figure 34 shows the four-step procedure to enable VMMQ on a vNIC using Cisco UCSMâ€™s predefined adapter policies (â€œWin-HPN-v2â€ and â€œMQ-v2â€). In the Cisco UCSM/IMM/IMC configuration window, â€œSub vNICâ€ is the same as vPort in Hyper-V parlance. In UCSM, the predefined â€œMQ-v2â€ policy is for 64 vPorts and allocates one TX and eight RX queue per vPort.</p> 
   <p class="pBody"><img width="933" height="546" id="Picture 1905942638" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_33.png" alt="Configuring VMMQ with a predefined adapter and MQ-v2 policy in UCSM"/></p> 
   <div class=" pDefault">
     Figure 34. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">Configuring VMMQ with a predefined adapter and MQ-v2 policy in UCSM</p> 
   <p class="pBody">Figure 35 provides the policy configuration details required for enabling the VMMQ feature in Intersight Managed Mode. vNIC creation through LAN connectivity policy will require selecting the pre-defined recommended adapter policies provided by Cisco. The same as in the case of UCSM, we need to select â€œWin-HPN-v2â€ and â€œMQ-v2â€ policies for vNICs and sub-vNICs. The rest of the configuration details remain same.</p> 
   <p class="pBody"><img width="867" height="495" id="Picture 1905942639" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_34.jpg" alt="Configuring VMMQ with predefined adapter Win-HPN-v2 and MQ-v2 policies in Cisco Intersight"/></p> 
   <div class=" pDefault">
     Figure 35. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">Configuring VMMQ with predefined adapter Win-HPN-v2 and MQ-v2 policies in Cisco Intersight</p> 
   <p class="pBody">While the recommendation is to use the above approach to enable VMMQ using pre-defined UCSM adapter policies, you could also define custom VMMQ policies depending on the number of vPorts per host. The calculations for a custom MQ policy would be as follows (in the following custom MQ policy, one TX queue and eight RX queues are allocated per vPort):</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>TX queue = Sub vNIC or vPort</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span lang="FR" style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span lang="FR">RX queue = 8 x (TX queue)</span></p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>CQ = TX + RX</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Interrupt = 512 OR at least â€œ2xCPU+ 4â€</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Pooled under Resources â€œEnabledâ€, and RSS under Options â€œEnabledâ€</p> 
   <p class="pBody"><b>Note:</b> The VIC 15000 Series adapter has, per adapter, a maximum hardware limit of 3072 interrupt counts. As such, a maximum of five vNICs with 512 interrupt counts each is supported. The remaining interrupt counts are reserved for system use. </p> 
   <p class="pBody"><img width="867" height="453" id="Picture 1905942640" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_35.jpg" alt="Defining custom MQ policy in UCSM for 16 vPorts"/></p> 
   <div class=" pDefault">
     Figure 36. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">Defining custom MQ policy in UCSM for 16 vPorts</p> 
   <p class="pBody" style="page-break-before:always">Figure 37 is a screen capture from a Hyper-V host with a single Hyper-V vSwitch and SET teaming across two vNICs. There are two VMs on the Hyper-V host with two vPorts per VM. And each vPort on the VM will have allocated one TX and eight RX queues, based on the MQ-v2 policy.</p> 
   <p class="pBody"><img width="864" height="348" id="Picture 1905942641" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_36.jpg" alt="VMMQ information from a Windows Server 2019 Hyper-V host"/></p> 
   <div class=" pDefault">
     Figure 37. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">VMMQ information from a Windows Server 2019 Hyper-V host</p> 
   <p class="pBody">Below are some of the important guidelines applicable to VMMQ with VIC 15000 Series adapters:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Each VMMQ vPort may use one transmit queue and multiple receive queues. When VMMQ is enabled, a pool of queues is created, and the host driver assigns queues to vPorts. Different vPorts may be assigned different numbers of queues based on the number of cores that the vPort will be servicing.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>VXLAN and NVGRE offloads are supported with VMMQ functionality. The option is enabled in the vNIC adapter policy and not in the sub vNIC adapter policy.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>RSS is supported on VMMQ receive queues, including inner packet of overlay networks.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>VMMQ vNICs support a rate limit set by the host, not from Cisco UCS Manager. CoS will not be adjustable per vPort from Cisco UCS Manager.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>vNICs with the VMQ feature, specified through the VMQ connection policy with multi-queue disabled, are not allowed on the same adapter as multi-queue-enabled vNICs.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>FCoE and VMMQ vNICs can coexist on the same server.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>usNIC and VMMQ cannot be enabled on the same VIC.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Modifying the VMMQ adapter policy through the VMQ connection policy results in exceeding the maximum Completion-Queue (CQ) value. VIC 15000 Series adapters support up to a maximum of 2000 hardware CQ resources. If this number is exceeded, it results in an â€œout of CQ resourcesâ€ error while deploying a service profile at the vNIC creation stage. This results in eventual failure to create a vNIC.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>The following PowerShell (PS) command can be used to enable VMMQ on the vPort:</p> 
   <p class="pBullet2CMT"><span style="font-family:&quot;Times New Roman&quot;,&quot;serif&quot;">â—¦<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp; </span></span>Set-VMNetworkAdapter -VMName (VM_NAME) -VmmqEnabled $true -VmmqQueuePairs (Queue_Pair_Count) -VrssEnabled $true</p> 
   <p class="pBody" style="margin-top:7.0pt;page-break-before:always">Along with RSS, VMQ, and VMMQ support, another feature that VIC 15000 supports is RDMA over converged Ethernet version 2 (RoCE v2), which is available for all supported operating systems. The detailed configuration and recommendations for RoCEv2 are available in the â€œCisco UCS Configuration Guide for RDMA over Converged Ethernet (RoCE) Version 2.â€<a href="#_ftn4" name="_ftnref4" title=""><span class="Superscript"><sup class=" cSuperscript">[4]</sup></span></a></p> 
   <p class="pToC_Subhead2"><a name="_Toc208886167"></a><a name="_Toc201731001">MTU setting</a></p> 
   <p class="pBody">The other consideration to drive better performance is to have jumbo frame enabled throughout the fabric and on the servers. </p> 
   <p class="pBody">For Cisco UCS servers connected to fabric interconnect in UCSM or IMM mode, the user needs to enable the following for the supporting of jumbo frames:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Configure jumbo MTU on the fabric-interconnect QoS class</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Set MTU on the vNIC through the adapter-policy</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>For Linux, the vNIC MTU is reflected on the OS; for Windows, the MTU needs to be set on the server as well. </p> 
   <p class="pBody">When the VIC is not connected to a fabric interconnect, the fabric level MTU on a Cisco Nexus<span class="Superscript"><sup class=" cSuperscript">&reg;</sup></span> or third-party switch should be enabled to carry jumbo frames. Additionally, MTU is one of the vNIC properties that can be configured in Cisco UCSM/IMC; the recommended value for vNIC MTU is 9000. </p> 
   <p class="pBody">For ESXi environments, the vSwitch/DVS and the virtualized network adapter MTU (for example, VMXNET3 for ESXi) should be configured to handle jumbo frames, with considerations for GENEVE or VXLAN headers if overlays are set up from the server.</p> 
   <p class="pBody">Note that, on Linux and ESXi hosts, the MTU set on the Cisco UCSM/IMM/IMC vNIC gets reflected on the host, but for Windows servers, the MTU set on the vNIC does not take effect - for Windows, the user needs to explicitly set the adapter MTU to jumbo frames from the Windows server.</p> 
   <p class="pToC_Subhead2"><a name="_Toc208886168"></a><a name="_Toc201731002">Overlay offload</a></p> 
   <p class="pBody">The VIC 15000 Series adapters support overlay offloads, including VXLAN, GENEVE, or NVGRE. An overlay offload on a VIC enables TCP Segmentation Offload (TSO), TX/RX checksum offload for inner/outer packets, and RSS on the inner payload of the tunneled packet. The overlay offload on VIC cards thus provides the following advantages: </p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b>Reduced CPU utilization:</b> A TSO and TX checksum offload overlay helps reduce CPU utilization significantly on the transmit side. And the receive side benefits from RX checksum offload.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b>Better throughput:</b> Higher throughput can be achieved by enabling an overlay offload with multiple RX queues and RSS. With multiple RX-queues, RSS, and overlay offload enabled, the VIC ASIC spreads traffic across multiple CPU cores based on the inner payload hash of each tunneled packet. Without hashing on the inner payload, traffic would be hashed based only on the outer overlay header (VXLAN/GENEVE/NVGRE). Having hash based on the inner payload provides efficient distribution across multiple CPU cores, thus, having VXLAN/NVGRE/GENEVE overlays from the server helps to achieve higher throughputs.</p> 
   <p class="pSubhead2CMT" style="page-break-before:always">VXLAN offload</p> 
   <p class="pBody">The VIC 15000 Series supports VXLAN offload with IPv4 and IPv6 payloads for ESXi, Linux, and Windows. With multiple RX queues and RSS along with VXLAN offload enabled, packets can be load balanced across multiple CPU cores based on the inner payload.</p> 
   <p class="pBody">The recommended adapter policy with VIC 15000 for VXLAN overlays is to have the following:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Multiple RX queues with RSS enabled</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>TX/RX queue-size of 4096</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>VXLAN offload enabled</p> 
   <p class="pBody" style="margin-top:7.0pt"><img width="576" height="847" id="Picture 1905942642" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_37.jpg" alt="VXLAN-offload-recommended adapter-policy for VMware"/></p> 
   <div class=" pDefault">
     Figure 38. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">VXLAN-offload-recommended adapter-policy for VMware</p> 
   <p class="pBody">For VMware, VXLAN offload is supported only with RSS and not with VMQ or NetQueue.</p> 
   <p class="pBody">The above defined adapter-policy for VMware is applicable for Linux too; please note that VXLAN offload is different from OVS offload, and OVS offload is not supported on Cisco UCS VIC adapters.</p> 
   <p class="pBody">For Hyper-V environments, VMMQ is the recommended solution to be used with VXLAN offload. Additionally, on Windows, NVGRE offload is also supported on the VIC 15000. VXLAN offload is the most deployed and recommended offload solution on the Windows platform.</p> 
   <p class="pBody"><img width="720" height="719" id="Picture 1905942643" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_38.jpg" alt="VXLAN-offload-recommended high-performance adapter-policy for Windows"/></p> 
   <div class=" pDefault">
     Figure 39. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">VXLAN-offload-recommended high-performance adapter-policy for Windows</p> 
   <p class="pSubhead2CMT">GENEVE offload</p> 
   <p class="pBody">GENEVE offload on the fifth-generation VIC is supported for VMware ESXi starting from Cisco UCSM and Cisco Intersight Managed Mode Release 4.2(3).</p> 
   <p class="pBody">GENEVE offload on the VIC 15000 supports the NSX-T vSwitch (N-VDS or VDS 7) in â€œstandard modeâ€ from Cisco UCSM and Cisco Intersight Managed Mode (IMM) Release 4.2(3) and the NSX-T vSwitch in â€œenhanced data path modeâ€ from Cisco UCSM and Cisco Intersight Managed Mode Release 4.2(3).</p> 
   <p class="pBody">Please refer to the Cisco UCS release notes for the supported ESXi versions across releases.</p> 
   <p class="pSubhead2CMT" style="page-break-before:always">GENEVE offload for N-VDS in standard mode</p> 
   <p class="pBody">GENEVE offload for N-VDS in standard mode is supported on VIC 15000 with RSS to provide better CPU utilization and higher throughput. In this mode, VIC 15000 provides RSS on inner packets, TSO for IPv4/v6 packets, and TX/RX checksum offload for IPv4/v6 inner/outer packets.</p> 
   <p class="pBody">The recommended settings are as follows:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Multiple RX queues with RSS</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>TX/RX ring size of 4096</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Enable GENEVE offload</p> 
   <p class="pBody">Figure 40 shows the adapter policy required for enabling N-VDS in standard mode. Additionally, on NSX-T the user would create an NSX-T vSwitch in standard mode.</p> 
   <p class="pBody"><img width="867" height="410" id="Picture 1905942644" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_39.jpg" alt="GENEVE-offloadâ€“enabled adapter-policy for standard N-VDS vSwitch"/></p> 
   <div class=" pDefault">
     Figure 40. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">GENEVE-offloadâ€“enabled adapter-policy for standard N-VDS vSwitch</p> 
   <p class="pSubhead2CMT">GENEVE offload for N-VDS in enhanced data path mode (ENS)</p> 
   <p class="pBody">Enhanced data path mode (alternatively called ENS) on ESXi uses DPDK-like techniques to provide higher throughput. Notably, ENS utilizes polling to achieve high packet rates. When ENS is enabled, vSwitch uses the VMware ENS stack and utilizes the VIC ENS driver (nenic-ens) for its uplink ports.</p> 
   <p class="pBody">The VIC ENS driver for the VMware ESXi operating system is identified as `nenic-ens`, separate from `nenic` driver used for operating in standard mode. Depending on the mode of operation set to standard or ENS on NSX-T vSwitch, the ESXi operating system selects appropriate driver `nenic` or `nenic-ens`.</p> 
   <p class="pBody">The VIC ENS driver `nenic-ens` supports TSO for both IPv4 and IPv6, GENEVE offload with IPv4/v6 outer header, TX/RX checksum offload for IPv4/v6 inner/outer packets, and NetQueue. NetQueue is also known as GENEVE filter in ESXi environments. It is to be noted that the VIC ENS driver `nenic-ens` supports NetQueue but not RSS. NetQueue support is available starting with Cisco UCSM/IMM release 4.3(4a). Prior to release 4.3(4a), VIC `nenic-ens` driver uses a single TX/RX queue. </p> 
   <p class="pBody" style="page-break-before:always">The recommended adapter policy settings for GENEVE offload with ESXi ENS with releases prior to 4.3(4a) are as follows:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Single TX/RX queue</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>TX/RX ring size of 4096</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Enable GENEVE offload</p> 
   <p class="pBody">For release 4.3(4a), the recommended adapter policy is to enable NetQueue for the ENS mode to utilize multiple TX/RX queues:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Multiple TX/RX queues</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Enable Advance Filter</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Enable GENEVE offload</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Enable VMQ connection policy with two or more VMQ queues, applied to vNICs for VM data path. Figure&nbsp;xxx</p> 
   <p class="pBody" style="margin-top:7.0pt">Figure 41 shows the adapter policy required for enabling NSX-T vSwitch in enhanced data path mode. Additionally, on the NSX-T vSwitch, the user needs to select creation of NSX-T vSwitch in enhanced data path mode.</p> 
   <p class="pBody" style="margin-top:7.0pt"><img width="929" height="401" id="Picture 33" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_40.png" alt="Adapter Policy"/></p> 
   <div class=" pDefault">
     Figure 41. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">Adapter Policy</p> 
   <p class="pBody" style="margin-top:7.0pt"><img width="720" height="780" id="Picture 34" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_41.png" alt="Adapter Policy continued."/></p> 
   <div class=" pDefault">
     Figure 42. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">Adapter Policy continued.</p> 
   <p class="pBody" style="margin-top:7.0pt"><img width="737" height="366" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_42.png" alt="Connection Policy with Multi Queue enabled."/></p> 
   <div class=" pDefault">
     Figure 43. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">Connection Policy with Multi Queue enabled.</p> 
   <p class="pToC_Subhead1" style="page-break-before:always"><a name="_Toc208886169"></a><a name="_Toc201731003">VIC Q-in-Q tunneling</a></p> 
   <p class="pBody">VLAN Q-in-Q tunneling (also known as VLAN double tagging) is a networking feature that extends the capabilities of Virtual LAN (VLAN) technology by allowing the encapsulation of multiple VLANs within a single Ethernet frame. This feature is defined in RFC 802.1Q-in-Q, which specifies the standards and procedures for implementing VLAN stacking. A Q-in-Q (802.1Q-in-802.1Q) tunnel allows segregating the traffic in the infrastructure and helps to expand the VLAN space through the addition of 802.1Q tags to already 802.1Q-tagged packets.</p> 
   <p class="pBody">In a traditional VLAN environment, a single VLAN tag is added to an Ethernet frame to identify the VLAN membership of the frame. However, in scenarios where there is a need to transport VLAN-tagged traffic over a network that already employs VLAN tagging, VLAN Q-in-Q provides an effective solution. </p> 
   <p class="pBody">With Cisco UCS VIC QinQ tunneling, two sets of VLAN tags are used. The original VLAN tag, called the outer tag, identifies the customer's VLAN, while the second VLAN tag, known as the inner tag, represents the customer's sub-VLAN. This double tagging process allows for the stacking of VLANs, creating a hierarchical structure of VLANs within VLANs. The outer tag consists of the standard 802.1Q VLAN tag, which contains the VLAN ID (VID) and other control information. The inner tag, also an 802.1Q VLAN tag, carries the VLAN ID specific to the customer's sub-VLAN. By adding these two sets of tags, the VLAN Q-in-Q feature enables the transport of VLAN-tagged frames across multiple VLAN-aware devices and networks.</p> 
   <p class="pBody">Here is an example of a packet walk-through between VMs hosted on Cisco UCS servers behind a pair of fabric interconnects, using the Cisco UCS VIC Q-in-Q tunneling feature. It highlights Layer-2 segmentation using double tagging with the Q-in-Q tunneling feature for VLAN IDs 5 and 6 as inner VLANs while VLAN ID 11 is being used as the outer VLAN.</p> 
   <p class="pBody"><img width="937" height="495" id="Picture 15" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_43.png" alt="L2 segmentation for tenant VMs hosted in a Cisco UCS environment with the Q-in-Q tunneling feature"/></p> 
   <div class=" pDefault">
     Figure 44. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">L2 segmentation for tenant VMs hosted in a Cisco UCS environment with the Q-in-Q tunneling feature</p> 
   <p class="pBody" style="page-break-before:always">This feature is particularly useful in multitenant environments, such as data centers or service provider networks, where different customers or user groups require separate VLAN domains. End-users benefit from VLAN Q-in-Q by having the ability to create and manage their own VLANs within a larger service provider network. This allows them to establish isolated virtual networks, ensuring security and performance while leveraging the advantages of VLAN technology. Additionally, the hierarchical structure provided by double tagging enables the extension of VLANs across different network domains without conflict.</p> 
   <p class="pBody">VLAN Q-in-Q, as defined by RFC 802.1Q-in-Q, enhances the capabilities of VLAN technology by allowing the stacking of multiple VLANs within a single Ethernet frame. This feature provides flexibility, scalability, and improved isolation for network deployments, benefiting both service providers and end-users in achieving efficient and secure network operations.</p> 
   <p class="pBody">Below are sample use cases for the VLAN Q-in-Q feature:</p> 
   <p class="pNumList1CMT" style="margin-bottom:7.0pt"><span style="font-family:&quot;Arial&quot;,&quot;sans-serif&quot;">1.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Service provider networks: Service providers often use VLAN Q-in-Q tunneling to segregate or isolate traffic from different customers or to transport customer VLAN traffic across their backbone. This allows service providers to maintain customer traffic separately even if the customers are using the same VLAN IDs.</p> 
   <p class="pNumList1CMT" style="margin-bottom:7.0pt"><span style="font-family:&quot;Arial&quot;,&quot;sans-serif&quot;">2.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Large enterprise networks: Large organizations with complex networks can use VLAN Q-in-Q tunneling to simplify the management of VLAN IDs across their networks. It allows them to use the same VLAN ID in different parts of the network without causing overlap or conflicts.</p> 
   <p class="pNumList1CMT" style="margin-bottom:7.0pt"><span style="font-family:&quot;Arial&quot;,&quot;sans-serif&quot;">3.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Network expansion: VLAN Q-in-Q tunneling can help in situations where the VLAN space is exhausted. Since it allows for stacking of VLAN tags, it can effectively expand the VLAN space.</p> 
   <p class="pNumList1CMT" style="margin-bottom:7.0pt"><span style="font-family:&quot;Arial&quot;,&quot;sans-serif&quot;">4.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Security: By segregating traffic based on customer or department, VLAN Q-in-Q tunneling can add an extra layer of security. It can help prevent unauthorized access to sensitive data by keeping different types of traffic isolated from each other.</p> 
   <p class="pNumList1CMT" style="margin-bottom:7.0pt"><span style="font-family:&quot;Arial&quot;,&quot;sans-serif&quot;">5.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Multitenant environments: In multitenant environments, such as data centers, Q-in-Q tunneling can be used to keep the traffic of different tenants separate and secure.</p> 
   <p class="pBody">The VIC Q-in-Q tunneling feature is supported starting with Cisco UCSM Release 4.3(2). </p> 
   <p class="pBody">Configurations required in Cisco UCS Manager: </p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Enable Q-in-Q globally under the FI domain through LAN global policy in UCSM</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Enable Q-in-Q under VLAN in vNIC or enable Q-in-Q on vNIC in an LAN connectivity policy</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>For untagged traffic, select â€œNativeâ€ under a vNIC</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Upstream network switches should allow Q-in-Q forwarding. Cisco Nexus 9000 Series Switches require â€œsystem dot1q tunnel transitâ€ configuration.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>For standalone fabrics, ensure that the upstream ToR switch will carry double-tagged 802.1Q frames.</p> 
   <p class="pBody" style="page-break-before:always">The rule for using VIC Q-in-Q tunneling can be applied in the following possible scenarios:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Case 1: Q-in-Q disabled. Native VLAN and multiple VLANs are allowed under a vNIC (legacy behavior).</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Case 2: Q-in-Q enabled. Native VLAN and Q-in-Q VLAN can be the same. Additional VLANs are not allowed under a vNIC. For example, VLAN 201 as both native and Q-in-Q tag: in this case, untagged traffic will be carried with a single-tag of VLAN ID 201, and tagged traffic will be double-tagged, with the outer-tag being 201.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Case 3: Q-in-Q enabled, and native VLAN and Q-in-Q VLAN being different. In this case also, additional VLANs are not allowed under vNIC. For example, VLAN 201 as native and VLAN 301 as the Q-in-Q tag: in this case, untagged traffic will be carried with a single tag of 201, and tagged traffic will be double-tagged, with an outer-tag of VLAN ID 301.</p> 
   <p class="pBody" style="margin-top:7.0pt"><img width="894" height="453" id="Picture 41" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_44.jpg" alt="Example of a Cisco UCSM VIC Q-in-Q tunneling configuration"/></p> 
   <div class=" pDefault">
     Figure 45. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">Example of a Cisco UCSM VIC Q-in-Q tunneling configuration</p> 
   <p class="pBody">The Q-in-Q tunneling feature is available in Cisco Intersight for UCS C-Series servers in Intersight Standalone Mode (ISM). For the Cisco UCS B-Series/X-Series/C-series servers in Intersight Managed Mode (IMM), this feature will be available in future releases. For configuring Q-in-Q tunneling, Ethernet network policy should be created with Q-in-Q VLAN IDs. </p> 
   <p class="pBody"><img width="720" height="353" id="Picture 1905942649" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_45.jpg" alt="Example of Q-in-Q tunneling configuration for standalone UCS C-Series servers managed through Intersight"/></p> 
   <div class=" pDefault">
     Figure 46. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">Example of Q-in-Q tunneling configuration for standalone UCS C-Series servers managed through Intersight</p> 
   <p class="pBody">The following considerations need to be kept in mind when configuring the Q-in-Q tunneling feature with Cisco VIC 15000 Series adapters:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Q-in-Q VLAN selection is effective only when the â€œEnable QinQâ€ check box is selected on a vNIC interface, as shown in item no. 2, Figure 49 above.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>For Cisco UCS 6454, 64108, and 6536 fabric interconnects, Q-in-Q must be enabled at LAN &gt; Global Policies to support Q-in-Q VLAN on a VIC adapter, as shown in item no. 1, Figure 48 above.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Cisco VIC 15000 Series adapters support enabling GENEVE offload and Q-in-Q on a vNIC interface.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Q-in-Q configuration supports a maximum of two VLANs on a vNIC interface. A Q-in-Q VLAN can be a native or a non-native VLAN. You can configure a native VLAN and a non-native VLAN as a Q-in-Q VLAN on the vNIC.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>The default VLAN (VLAN ID: 1) is not supported as a Q-in-Q VLAN on a vNIC interface.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>When a native VLAN and a Q-in-Q VLAN are configured on a vNIC Interface, a new VLAN configuration is not supported and results in server-profile-association failures when selected. To accommodate a new VLAN, either the native VLAN or the Q-in-Q VLAN must be removed.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>When the Q-in-Q VLAN is the same as the native VLAN on a vNIC Interface, a new VLAN configuration is not supported and results in server-profile-association failures when selected. To accommodate a new VLAN, either the native VLAN or Q-in-Q VLAN must be modified.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>When VIC Q-in-Q tunneling is enabled, downgrades to release version lower than 4.3(2) is not possible.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>On an associated service profile on UCS B-Series servers, you cannot enable or disable Q-in-Q VLAN settings.</p> 
   <p class="pBody" style="page-break-before:always">Q-in-Q VLAN-enabled vNICs created on VIC 15000 Series adapters cannot be used in the following:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>LAN (or PXE) boot</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>iSCSI boot</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>SR-IOV</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>VMMQ</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>RDMAv2</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>usNIC</p> 
   <p class="pToC_Subhead1"><a name="_Toc208886170"></a><a name="_Toc201731004">Precision Time Protocol (PTP)</a></p> 
   <p class="pBody">The Precision Time Protocol (PTP) is used to synchronize clocks running on devices in a network. Cisco VIC 15000 Series adapters provide PTP support in hardware, and work in conjunction with the protocol software stack to provide sub-microsecond accuracy in clock synchronization. This is far better than what is normally obtainable with Network Time Protocol (NTP). One of the main advantages of using PTP with Cisco VIC 15000 Series adapters over NTP is that the hardware support available on the VIC 15000 series allows PTP to account for delays in message transfer, and greatly improves the accuracy of time synchronization. With hardware-enabled PTP, VIC 15000 Series adapters have their own onboard clock, which is used to time stamp received and transmitted PTP messages. Hardware support for PTP enables VIC to time stamp the PTP packets at the exact moment they are sent and received. </p> 
   <p class="pBody">To achieve the best possible accuracy, it is recommended that all networking components between PTP clocks be PTP hardware enabled. Time synchronization in larger networks where not all the networking hardware supports PTP, might be better suited for NTP.</p> 
   <p class="pBody">PTP is available on Linux operating systems only and can be enabled on one vNIC per VIC 15000 Series adapter at a time. PTP precisely synchronizes the server clock with other devices and peripherals on Linux operating systems. </p> 
   <p class="pBody">Clocks managed by PTP follow a primary-worker hierarchy, with workers synchronized to a master clock. The hierarchy is updated by the Best Master Clock (BMC) algorithm, which runs on every clock. One PTP interface per adapter must be enabled to synchronize it to the grand master clock. After enabling PTP, the host must be rebooted.</p> 
   <p class="pBody">The time stamping parameters displayed by `ethtool -T int_name` will show a field for the PTP hardware clock. The value of PTP Hardware Clock: 0 shows that PTP is enabled for the interface. Otherwise, it will show PTP Hardware Clock: none.</p> 
   <p class="pBody"><img width="864" height="561" id="Picture 1905942650" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_46.jpg" alt="PTP enablement through adapter policy in IMM and UCSM, respectively"/></p> 
   <div class=" pDefault">
     Figure 47. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">PTP enablement through adapter policy in IMM and UCSM, respectively</p> 
   <p class="pToC_Subhead1"><a name="_Toc208886171"></a><a name="_Toc201731005">FEC settings on 15425/15427/15428/15235/15237/15238</a></p> 
   <p class="pBody">Forward Error Correction (FEC) is a method of obtaining error control in data transmission over an unreliable or noisy channel in which the source (transmitter) encodes the data in a redundant way using error-correcting code, and the destination (receiver) recognizes it and corrects the errors without requiring retransmission. </p> 
   <p class="pBody">A Forward Error Correction (FEC) setting for a VIC 15425/15427/15428 is applicable at 25Gbps, and for a VIC 15235/15237/15238 at 100Gbps. These FEC settings on VIC 15425/15427/15428/15235/15237/15238 are applicable only for standalone rack servers and are configurable through Cisco Integrated Management Controller (IMC). For UCSM and Intersightâ€“managed rack servers, the FEC settings are auto-determined based on the inserted transceiver, and the FEC settings are not configurable.</p> 
   <p class="pBody">The FEC configuration on a VIC 15425/15427/15428 port at 25Gbps could be either of the following:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b>RS-FEC (CL91):</b> admin default</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b>FC-FEC (CL74)</b></p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b>cl108</b></p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b>cl91-cons16</b></p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b>FEC off</b></p> 
   <p class="pBody" style="page-break-before:always">FEC configuration on a VIC 15235/15237/15238 port at 100G could be either of the following.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b>RS-FEC (CL91):</b> admin default</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b>FEC off:</b> needed for these transceivers: </p> 
   <p class="pBullet2CMT"><span style="font-family:&quot;Times New Roman&quot;,&quot;serif&quot;">â—¦<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp; </span></span>QSFP-100G-LR4-S, </p> 
   <p class="pBullet2CMT"><span style="font-family:&quot;Times New Roman&quot;,&quot;serif&quot;">â—¦<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp; </span></span>QSFP-40/100-SRBD, </p> 
   <p class="pBullet2CMT"><span style="font-family:&quot;Times New Roman&quot;,&quot;serif&quot;">â—¦<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp; </span></span>QSFP-100G-SR1.2</p> 
   <p class="pBullet2CMT"><span style="font-family:&quot;Times New Roman&quot;,&quot;serif&quot;">â—¦<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp; </span></span>QSFP-100G-DS-S</p> 
   <p class="pBullet2CMT"><span style="font-family:&quot;Times New Roman&quot;,&quot;serif&quot;">â—¦<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp; </span></span>QSFP-100G-FS-S</p> 
   <p class="pBody"><b>Note:</b> For these transceivers, by default the VIC firmware Operating FEC Mode is â€œOff.â€ There is no user intervention required in these cases. This essentially means that Admin FEC Mode will always be CL91, Operating FEC Mode remains â€œOff,â€ and Link State will be â€œUpâ€. </p> 
   <p class="pBody">Figure 48 shows an example with QSFP-100G-DS/FS-S.</p> 
   <p class="pBody"><img width="932" height="192" id="Picture 1905942651" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_47.jpg" alt="FEC settings for a VIC 100G adapter installed on UCS C-Series servers in standalone mode"/></p> 
   <div class=" pDefault">
     Figure 48. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">FEC settings for a VIC 100G adapter installed on UCS C-Series servers in standalone mode </p> 
   <p class="pBody">For the link between a VIC and a switch/router to be â€œup,â€ the FEC settings must match on both ends. To arrive at common FEC settings on both the VIC and switch ports, the following factors must be taken into consideration: </p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b>Exception:</b> For 25G FEC settings, cl108 and cl91-cons16 are compatible. This is an exception to the rule that FEC needs to be matched at both the VIC and switch ports.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b>Transceiver type:</b> Some transceivers have minimum FEC requirements; for example, 25G-SR-S optics have a minimum FEC requirement of RS-FEC or CL91.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b>Cable:</b> Cables have a minimum FEC requirement depending on their length.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b>Switch:</b> FEC settings for 25/50/100/200G are based on IEEE and Ethernet-consortium standards. A switch or router can have FEC configuration options depending on the supported standards; also, the switch ports can have different default FEC settings, such as FC-FEC (CL74) or RS-FEC (CL91).</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b>VIC:</b> On a VIC, the ports are set to RS-FEC or CL91 by default. </p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b>Auto-Negotiation / Link Training (AN/LT): </b></p> 
   <p class="pBullet2CMT"><span style="font-family:&quot;Times New Roman&quot;,&quot;serif&quot;">â—¦<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp; </span></span>For 25G-Copper, Auto-Negotiation / Link Training (AN/LT) is supported and can be configured. The current default for 25G is â€œAdminâ€ AN/LT â€œAuto,â€ which results in â€œOperâ€ AN/LT set to â€œOff.â€ If the â€œAdminâ€ AN/LT is manually changed to â€œOn,â€ the â€œOperâ€ AN/LT will be set to â€œOn.â€ This will enable auto-detection of the FEC mode when the VIC port connects with SFP-H25G-CUxM cables and when the switch port is configured likewise. </p> 
   <p class="pBullet2CMT"><span style="font-family:&quot;Times New Roman&quot;,&quot;serif&quot;">â—¦<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp; </span></span>For 50G-Copper, Auto-Negotiation / Link Training (AN/LT) is supported and can be configured. The current default for 50G is â€œAdminâ€ AN/LT â€œAuto,â€ which results in â€œOperâ€ AN/LT set to â€œOn.â€ If the â€œAdminâ€ AN/LT is manually changed to â€œOff,â€ the â€œOperâ€ AN/LT will be set to â€œOff.â€ This will disable auto-detection of FEC mode when the VIC port connects with SFP-50G-CUxM cables. So, to get the link up, the switch-port configuration should match the VIC for AN/LT configuration. </p> 
   <p class="pBullet2CMT"><span style="font-family:&quot;Times New Roman&quot;,&quot;serif&quot;">â—¦<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp; </span></span>For 40/100/200G-Copper, Auto-Negotiation / Link Training (AN/LT) is enabled by default and cannot be manually changed. </p> 
   <p class="pBody">Due to the difference in the minimum required FEC across cables/transceivers and switches, the user needs to ensure that the FEC values are supported by the cables/transceivers and to configure them identically on the switch/router interfaces and VIC ports.</p> 
   <p class="pBody">The following FEC configuration guidelines are for a VIC 15425/15427/15428 connected at 25Gbps to Cisco Nexus 9200/9300 switches using the standalone Cisco NX-OS build. But this can be used as a reference for other switches too. The FEC configuration on the switch port and on the VIC should be identical and configured to at least the minimum FEC or a value above it.</p> 
   <p class="pTableCaptionCMT"><b>Table 4.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b>FEC guidelines based on cable, transceiver, switch, and VIC</p> 
   <div> 
    <table border="1" cellpadding="6" cellspacing="0" width="100%" bordercolor="#ADADAD"> 
     <thead> 
      <tr valign="top" align="left"> 
       <td> <p class="Cellhead1"><span style="color:white">Cable/transceiver PI</span></p> </td> 
       <td> <p class="Cellhead1"><span style="color:white">Minimum FEC for cable/ transceiver</span></p> </td> 
       <td> <p class="Cellhead1"><span style="color:white">Default on Cisco Nexus 9200/9300 (NX-OS)</span></p> </td> 
       <td> <p class="Cellhead1"><span style="color:white">Default on VIC 15425/15427/15428</span></p> </td> 
       <td> <p class="Cellhead1"><span style="color:white">Minimum FEC configuration on switch and VIC</span></p> </td> 
      </tr> 
     </thead> 
     <tbody> 
      <tr valign="top" align="left"> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none"><b>SFP-H25G-CU1M/1.5M/2M</b></p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">None</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">CL74 (FC-FEC)</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">CL91 (RS-FEC)</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">None</p> </td> 
      </tr> 
      <tr valign="top" align="left"> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none"><b>SFP-H25G-CU2.5M/3M</b></p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">FC-FEC</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">CL74 (FC-FEC)</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">CL91 (RS-FEC)</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">CL74</p> </td> 
      </tr> 
      <tr valign="top" align="left"> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none"><b>SFP-H25G-CU4M/5M</b></p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">RS-FEC</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">CL74 (FC-FEC)</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">CL91 (RS-FEC)</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">CL91</p> </td> 
      </tr> 
      <tr valign="top" align="left"> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none"><b>SFP-25G-AOCxM</b></p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">FC-FEC</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">CL74 (FC-FEC)</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">CL91 (RS-FEC)</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">CL74</p> </td> 
      </tr> 
      <tr valign="top" align="left"> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none"><b>SFP-25G-SR-S</b></p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">RS-FEC</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">CL74 (FC-FEC)</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">CL91 (RS-FEC)</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">CL91</p> </td> 
      </tr> 
      <tr valign="top" align="left"> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none"><b>SFP-10/25G-CSR-S,</b></p> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none"><b>0-30M/50M, OM3/4</b></p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">None</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">CL74 (FC-FEC)</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">CL91 (RS-FEC)</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">None</p> </td> 
      </tr> 
      <tr valign="top" align="left"> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none"><b>SFP-10/25G-CSR-S, </b></p> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none"><b>30/50M to 70/100M, OM3/4</b></p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">FC-FEC</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">CL74 (FC-FEC)</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">CL91 (RS-FEC)</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">CL74</p> </td> 
      </tr> 
      <tr valign="top" align="left"> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none"><b>SFP-10/25G-CSR-S,</b></p> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none"><b>above 70/100M, OM3/4</b></p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">RS-FEC</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">CL74 (FC-FEC)</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">CL91 (RS-FEC)</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">CL91</p> </td> 
      </tr> 
      <tr valign="top" align="left"> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none"><b>SFP-10/25G-LR-S</b></p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">RS-FEC</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">CL74 (FC-FEC)</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">CL91 (RS-FEC)</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">CL91</p> </td> 
      </tr> 
      <tr valign="top" align="left"> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none"><b>SFP-25G-SL</b></p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">RS-FEC</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">CL74 (FC-FEC)</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">CL91 (RS-FEC)</p> </td> 
       <td> <p class="pChart_bodyCMT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3pt; margin-left: 3pt; margin-right: 3pt; margin-top: 3pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">CL 91</p> </td> 
      </tr> 
     </tbody> 
    </table> 
   </div> 
   <p class="pBody">&nbsp;</p> 
   <p class="pBody"><img width="932" height="414" id="Picture 1905942652" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_48.jpg" alt="FEC configuration and validation for a VIC 15428 ports from Cisco IMC"/></p> 
   <div class=" pDefault">
     Figure 49. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">FEC configuration and validation for a VIC 15428 ports from Cisco IMC</p> 
   <p class="pToC_Subhead1"><a name="_Toc208886172"></a><a name="_Toc201731006">Rack-server connectivity with VIC 15425,15427, 15428, 15235,15237, and 15238</a></p> 
   <p class="pBody">VIC 15425/15427/15428 are quad-port 10/25/50G VIC cards designed for Cisco UCS C-Series rack servers. The card supports 10/25/50-Gbps Ethernet or FCoE.</p> 
   <p class="pBody">By default, the VIC 15425/15427/15428 ports (1, 2) and (3, 4) are port-channel members of two separate hardware port-channels on the VIC ASIC. Hardware port-channel on the VIC 15425/15427/15428 provides link-level redundancy and higher bandwidth, and the OS can potentially see a maximum of 100Gbps vNICs on the adapter. For efficient load balancing, the traffic from the server is hashed across a VIC hardware port-channel using Layer-2, Layer-3, and Layer-4 fields in the packet. Note that this VIC hardware port-channel doesnâ€™t support LACP.</p> 
   <p class="pBody">In Cisco UCSM/IMM mode, there is no option to disable VIC hardware port-channel, so the VIC ports (1, 2) and (3, 4) are always in port-channel mode when connected to a fabric interconnect. While in standalone mode when the VIC 15425/15427/15428 is connected to a Cisco<span class="Superscript"><sup class=" cSuperscript">&reg;</sup></span> or a third-party switch/router, the default hardware port-channel can be disabled from Cisco IMC. </p> 
   <p class="pBody" style="page-break-before:always">Depending on whether the VIC hardware port-channel is enabled or disabled, the vNIC speed seen on the server will differ, and the behavior will be as follows:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>With the default port-channel enabled, each vNIC on a VIC 15425/15427/15428 will pin to a VIC hardware port-channel, and each vNIC will have the bandwidth equal to sum of the bandwidth of the active port-channel members combined. Please note that each VIC 15425/15427/15428 port supports either 10G, 25G, or 50G. Accordingly, the port-channel and vNIC speed could be 10G or 20G, 25G or 50G, and 50G or 100G, depending on whether itâ€™s a 10G, 25G, or 50G link and how many ports are active.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>When disabling port channeling, each vNIC can pin to one of the four VIC external ports, and each vNIC will be 10G, 25G, or 50G, depending on the inserted transceiver.</p> 
   <p class="pBody" style="margin-top:10.0pt"><img width="933" height="660" id="Picture 42" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_49.png" alt="Disabling default port-channeling from Cisco IMC"/></p> 
   <div class=" pDefault">
     Figure 50. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">Disabling default port-channeling from Cisco IMC</p> 
   <p class="pBody" style="page-break-before:always">The various connectivity options with VIC 15425/15427/15428 are as follows:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>In UCSM/IMM mode, connect VIC 15425/15427/15428 ports (1, 2) or both to fabric interconnect A (FI-A) and ports (3, 4) o both to Fabric Interconnect B (FI-B). When the VIC 15425/15427/15428s are connected to the fabric interconnects, the Cisco NX-OS software automatically provisions the port channels on fabric interconnects A and B.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>In standalone mode with port-channel mode enabled on VIC 15425/15427/15428, connect VIC ports (1,&nbsp;2) or both to one top-of-rack (ToR) switch and ports (3, 4) or both to the other ToR switch. After both VIC ports in (1, 2) or (3, 4) are connected to their respective ToR switches, you will have to configure non-LACP port-channels on the ToR switches.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>In standalone mode with port-channel mode disabled, the VIC 15425/15427/15428 ports could be connected to ToR switches in any order.</p> 
   <p class="pBody">The above connectivity options are detailed below. Please note that, in figures 51 and 52 below, the dotted lines represent optional connections or optional port-channel configurations. The connectivity options shown in the figures are applicable for VIC 15427/15428 (MLOM) and VIC 15425 (PCIe).</p> 
   <p class="pBody">These figures depict physical connectivity and not the various NIC teaming options that are possible from an Operating System (OS) perspective.</p> 
   <p class="pSubhead2CMT">VIC 15425/15427/15428 connectivity to fabric interconnects</p> 
   <p class="pBody">When connected to a Fabric Interconnect (FI), the VIC ports (1, 2) and (3, 4) are always in port-channel mode and cannot be disabled. Ensure that the connectivity toward the FI is done taking into consideration hardware port-channel. Always connect ports (1, 2) to one fabric interconnect and ports (3, 4) to the other FI. When connecting two links per FI, the links become port-channeled automatically. One link per FI is also supported. VIC hardware port-channel cannot be disabled in FI-managed mode. vNIC/vHBA speeds can be 10/20/25/50G, depending on the number of active links and the transceiver type. There is no need to configure FEC or auto-negotiation; the link settings are auto-determined.</p> 
   <p class="pBody"><img width="867" height="292" id="Picture 18" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_50.jpg" alt="UCSM/IMM mode ports (1, 2) connect to one FI and ports (3, 4) to the other FI"/></p> 
   <div class=" pDefault">
     Figure 51. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">UCSM/IMM mode ports (1, 2) connect to one FI and ports (3, 4) to the other FI</p> 
   <p class="pBody"><img width="867" height="265" id="Picture 19" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_51.jpg" alt="UCSM/IMM mode port 1 &amp; 3 connected to FIs"/></p> 
   <div class=" pDefault">
     Figure 52. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">UCSM/IMM mode port 1 &amp; 3 connected to FIs</p> 
   <p class="pSubhead2CMT">VIC 15425/15427/15428 connectivity on standalone servers</p> 
   <p class="pBody">In standalone mode or when the Cisco UCS server is managed through Cisco IMC, default port-channeling can be enabled or disabled. And depending on the choice, one needs to create the physical VIC-to-ToR switch connections as well as the OS teaming and upstream ToR switchport/port-channel configurations.</p> 
   <p class="pSubhead2CMT">Default VIC port-channeling enabled on standalone servers</p> 
   <p class="pBody">By default, VIC port-channel is enabled, and switch-dependent OS teaming/bonding from the server is possible only with a single link from VIC 15425/15427/15428 toward each ToR switch, as shown below. Ensure that VIC 15425/15427/15428 port 1 or 2 connects to one ToR switch and that VIC port 3 or 4 connects to the other ToR switch. </p> 
   <p class="pBody">In this case, a common deployment is to have the ToR switches in a Multi-Chassis Trunking (MCT) pair, as shown in Figure 53. Examples of MCT are Virtual Port Channel (VPC) from Cisco, or multi-chassis link aggregation (mLAG) supported on third-party switches.</p> 
   <p class="pBody"><img width="867" height="260" id="Picture 20" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_52.jpg" alt="Standalone mode server connectivity with HW port-channels on VIC and MCT port-channel possible with single links to each ToR"/></p> 
   <div class=" pDefault">
     Figure 53. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">Standalone mode server connectivity with HW port-channels on VIC and MCT port-channel possible with single links to each ToR</p> 
   <p class="pBody" style="page-break-before:always">With VIC 15425/15427/15428 hardware port-channel enabled, if one wants to use all four ports of the VIC adapter, connect all four ports towards a ToR switch pair like in the diagram below. Ensure that VIC 15425/15427/15428 ports 1 and 2 connect to one ToR switch and ports 3 and 4 connects to the other ToR switch. Now, with dual links toward each ToR switch, and with default VIC hardware port-channel enabled, switch-dependent OS teaming from the server is not possible. </p> 
   <p class="pBody">In this case, on each ToR switch, a non-LACP port-channel would have to be created. A VPC-like MCT port-channel spanning multiple ToR switches is not possible in this case.</p> 
   <p class="pBody"><img width="867" height="266" id="Picture 49" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_53.jpg" alt="Standalone mode server connectivity with default port-channeling enabled and two links to each ToR"/></p> 
   <div class=" pDefault">
     Figure 54. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">Standalone mode server connectivity with default port-channeling enabled and two links to each ToR</p> 
   <p class="pSubhead2CMT">Default port-channeling disabled</p> 
   <p class="pBody">With VIC 15425/15427/15428 hardware port-channeling disabled, a switch-dependent OS teaming/bonding on the server is possible across all ports with ToR switches in MCT. Switch-dependent port-channels can span across all four ports of the VIC. There is also no dependency on how the four ports of the VIC 15425/15427/15428 should be connected to the upstream ToR switches.</p> 
   <p class="pBody"><img width="867" height="261" id="Picture 22" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_54.jpg" alt="Standalone mode server connectivity with default port-channeling disabled"/></p> 
   <div class=" pDefault">
     Figure 55. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">Standalone mode server connectivity with default port-channeling disabled</p> 
   <p class="pToC_Subhead1" style="page-break-before:always"><a name="_Toc208886173"></a><a name="_Toc201731007">Priority tagging on VICs with standalone rack servers</a></p> 
   <p class="pBody">VIC 15425/15427/15428/15235/15237/15238 have priority-tagging enabled for Quality of Service (QoS), and this priority tagging by the VIC could not be disabled in Cisco UCS VICs until Release 4.2(2). In the next section, the physical NIC-mode feature is explained; this feature can disable priority-tagging in the VIC. Meanwhile, with the default priority-tagging enabled, the untagged traffic from the server will always be sent by the VIC with a VLAN tag â€œ0â€ for CoS to the upstream switch/router.</p> 
   <p class="pBody">This priority tagging needs to be taken into consideration when connecting the VIC in a standalone rack server, to a third-party switch, or to a non-Cisco Nexus switch, because the upstream ToR switch/router that the VIC connects to may or may not support priority-tagging.</p> 
   <p class="pBody">Before going into details of how to handle this, here are some additional configuration options for vNICs on the Cisco IMC that you should be aware of:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>By default, in standalone mode, no â€œdefault-VLANâ€ is configured under the vNIC properties in Cisco IMC. And in this case the untagged traffic from the server will be tagged with VLAN 0 and sent toward the upstream ToR switch/router. </p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>If â€œdefault-VLANâ€ is configured under the vNIC, then the untagged traffic from the server will be tagged with that configured VLAN ID and sent to the upstream ToR switch/router.</p> 
   <p class="pBody" style="margin-top:7.0pt">The following behavior is to be expected, depending on whether priority tagging is supported or not on the upstream switch:</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>If the upstream switch supports priority tagging, then the upstream switchâ€™s port and the vNIC should work seamlessly. Please note that, by default, the vNICs are in trunk mode, and the â€œDefault-VLANâ€ under vNIC properties is none.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>If the upstream switch doesnâ€™t support priority tagging, then the vNIC must be configured as a trunk with a default VLAN. With a default VLAN configuration on the vNIC, the untagged traffic from the server will be sent on this VLAN ID by the VIC toward the upstream switch. And on the upstream switch port, this default VLAN on vNIC should be configured using a â€œswitchport trunk native VLAN &lt;vlan-id&gt;â€ in the Cisco NX-OS equivalent configuration.</p> 
   <p class="pBody">Please note that untagged packets from the server, such as LACP, which are to be processed by the supervisor or control plane on the switch or router, are sent by the VIC in â€œVLAN-0â€ or the â€œdefault VLANâ€ of the vNIC if it is configured. So even if some switches or routers support priority tagging, they ignore the processing of the control-plane-bound packets on this VLAN. Also, in these cases, LACP cannot be used.</p> 
   <p class="pBody"><img width="864" height="282" id="Picture 35" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_55.jpg" alt="Default VLAN configuration under vNIC from Cisco IMC"/></p> 
   <div class=" pDefault">
     Figure 56. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">Default VLAN configuration under vNIC from Cisco IMC</p> 
   <p class="pToC_Subhead1"><a name="_Toc208886174"></a><a name="_Toc201731008">Physical NIC mode on VICs in standalone rack servers</a></p> 
   <p class="pBody">The previous section described the default priority-tagging behavior in VICs. For switches or routers that donâ€™t support the full priority-tagging implementation, such as Cisco Nexus switches, this creates some challenges, especially with LACP packets. Hence, for supporting connectivity with various ToR switches or routers with VIC in standalone rack servers, the â€œPhysical NIC Modeâ€ feature was added.</p> 
   <p class="pBody">Physical NIC mode, essentially, sets a VIC in passthrough mode. With â€œPhysical NIC Modeâ€, the default behavior of 802.1p priority tagging is disabled in the VIC. This doesnâ€™t require configuring VLANs for sending traffic from the host. Depending on 2-port or 4-port VIC adapters, those ports are available on the host in the same way as those of a standard network adapter.</p> 
   <p class="pBody">When Physical NIC Mode is enabled, uplink ports of the VIC are set to pass-through mode.&nbsp;</p> 
   <p class="pBody"><b>Note:</b></p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Enabling Physical NIC Mode reboots the server.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Physical NIC Mode supports UCS VIC 1400 Series and VIC 15000 Series adapters.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Default vlan option is grey out for ACCESS/TRUNK mode in physical NIC mode.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>The minimum supported VIC FW version&nbsp;5.3(5.14)&nbsp;for physical NIC mode and with this release VIC connectivity to trunk or access switch port is supported using physical nic mode.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>This feature is not supported for Cisco Intersight Managed FI Attached servers.</p> 
   <p class="pBulletCMT" style="font-style: normal; font-variant: normal; font-weight: normal;margin-bottom: 3pt; margin-right: 0pt; margin-top: 0pt; text-decoration: none; text-transform: none"><span style="font-size:7.0pt;font-family:&quot;Arial&quot;,&quot;sans-serif&quot;;position:relative;top:-.5pt">â—<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Only default vNICs will be added if the Physical NIC mode is enabled.</p> 
   <p class="pBody" style="margin-top:7.0pt">After physical nic-mode enabled , vNIC configurations will be lost and new default vNICs will be created server will reboot</p> 
   <p class="pBody">In Trunk mode.</p> 
   <p class="pBody"><img width="867" height="314" id="Picture 51" src="/c/dam/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ether-fabric-wp.docx/_jcr_content/renditions/ucs-vic-15000-series-ether-fabric-wp_56.jpg" alt="Physical NIC mode configuration in Cisco IMC"/></p> 
   <div class=" pDefault">
     Figure 57. 
    <span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp; 
   </div> 
   <p class="FigureCaptionText">Physical NIC mode configuration in Cisco IMC</p> 
   <p class="pToC_Subhead1" style="page-break-before:always"><a name="_Toc208886175"></a><a name="_Toc201731009">For more information</a></p> 
   <p class="pBody">Read more about Cisco UCS products: <a href="https://www.cisco.com/c/en/us/products/servers-unified-computing/index.html">https://www.cisco.com/c/en/us/products/servers-unified-computing/index.html</a>.</p> 
   <p class="pBody">Read more about the Cisco UCS VIC 15000 Series: <a href="https://www.cisco.com/c/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ds.html">https://www.cisco.com/c/en/us/products/collateral/interfaces-modules/unified-computing-system-adapters/ucs-vic-15000-series-ds.html</a>.</p> 
   <p class="pBody">Read move about Cisco Unified Computing System Adapters: <a href="https://www.cisco.com/c/en/us/products/interfaces-modules/unified-computing-system-adapters/index.html">https://www.cisco.com/c/en/us/products/interfaces-modules/unified-computing-system-adapters/index.html</a>.</p> 
   <p class="pBody">&nbsp;</p> 
   <p class="pSubhead2CMT" style="margin-bottom:3.0pt">Author</p> 
   <p class="PullQuoteAuthor" style="margin-top:6.0pt">Joost van der Made</p> 
   <p class="pBody">&nbsp;</p> 
  </div> 
  <div> 
   <br clear="all" /> 
   <hr align="left" size="1" width="33%" /> 
   <div id="ftn1"> 
    <div class=" pDefault"> 
     <a href="#_ftnref1" name="_ftn1" title=""><span class="Superscript"><sup class=" cSuperscript">[1]</sup></span></a> Performance Tuning Guide for Cisco UCS M7 Servers 
     <br /> 
     <a href="https://www.cisco.com/c/en/us/products/collateral/servers-unified-computing/ucs-b-series-blade-servers/ucs-m7-platforms-wp.html">https://www.cisco.com/c/en/us/products/collateral/servers-unified-computing/ucs-b-series-blade-servers/ucs-m7-platforms-wp.html</a> 
     <span class="MsoHyperlink">.</span> 
    </div> 
   </div> 
   <div id="ftn2"> 
    <div class=" pDefault"> 
     <a href="#_ftnref2" name="_ftn2" title=""><span class="Superscript"><sup class=" cSuperscript">[2]</sup></span></a> Reference: Scalable Networking with RSS &amp; VMMQ â€“ 
     <a href="https://learn.microsoft.com/pdf?url=https%3A%2F%2Flearn.microsoft.com%2Fen-us%2Fwindows-hardware%2Fdrivers%2Fnetwork%2Ftoc.json">Microsoft Network Design Guide</a> 
    </div> 
   </div> 
   <div id="ftn3"> 
    <div class=" pDefault"> 
     <a href="#_ftnref3" name="_ftn3" title=""><span class="Superscript"><sup class=" cSuperscript">[3]</sup></span></a> Cisco UCS Manager Netw 
     <a name="Footnote2"></a>ork Management Guide (Network-Related Policies) 
     <a href="https://www.cisco.com/c/en/us/td/docs/unified_computing/ucs/ucs-manager/GUI-User-Guides/Network-Mgmt/4-3/b_UCSM_Network_Mgmt_Guide_4_3/b_UCSM_Network_Mgmt_Guide_chapter_01010.html">https://www.cisco.com/c/en/us/td/docs/unified_computing/ucs/ucs-manager/GUI-User-Guides/Network-Mgmt/4-3/b_UCSM_Network_Mgmt_Guide_4_3/b_UCSM_Network_Mgmt_Guide_chapter_01010.html</a> 
    </div> 
   </div> 
   <div id="ftn4"> 
    <div class=" pDefault"> 
     <a href="#_ftnref4" name="_ftn4" title=""><span class="Superscript"><sup class=" cSuperscript">[4]</sup></span></a> Cisco UCS Manager Configuration Guide for RDMA over Converged Ethernet (RoCE) Version 2, Release 4.3 
     <a href="https://www.cisco.com/c/en/us/td/docs/unified_computing/ucs/ucs-manager/GUI-User-Guides/RoCEv2-Configuration/4-3/b-roce-configuration-guide-4-3.html">https://www.cisco.com/c/en/us/td/docs/unified_computing/ucs/ucs-manager/GUI-User-Guides/RoCEv2-Configuration/4-3/b-roce-configuration-guide-4-3.html</a> 
    </div> 
   </div> 
  </div>  
 </body>
</html>

    
    













<cdc:do action="com.cisco.wem.framework.service.command.eotcontent.EOTResponsiveContent@6700e2c7" returnTypedAs="eotResponsiveContainerVo" id="eotResponsiveContainerVo" />


<div class="row full visitedlinks" style="padding: 0px; margin:0px">
     <div class="col full" >
     
    
    </div>
</div>

</div>
<script>
    if (window.cdc === undefined) {
        cdc = {};
    }

    if (cdc.eot === undefined) {
        cdc.eot = {};
    }

    cdc.eot.isEot = true;
    cdc.eot.isToc = true;

    jQuery(document).ready(function () {
        if (jQuery('.unpublished').length > 0) {
            let lastRel = "1.0";
            if (jQuery('.published').length > 0) {
                lastRel = Number(jQuery('.published td')[0].innerText) + 1 + ".0";
            }
            jQuery('.preview_revision').text(lastRel);
        }

        const linkItemsLen = jQuery("#eot-doc-wrapper link[rel='stylesheet']").length;

        function addNewTocStyleSheet() {
            let fileName="/etc/designs/cdc/transformation/wemdcmt_responsive.css",
              $head = jQuery("head"),
              linkElement = "<link rel='stylesheet' href='"+fileName+"' type='text/css' >";
            $head.append(linkElement);
        }

        if (cdc.eot.isToc && !linkItemsLen) {
            addNewTocStyleSheet();
        } else if (cdc.eot.isEot) {
            jQuery("#eot-doc-wrapper link[rel='stylesheet']").each(function () {
                const linkTag = jQuery(this),
                    hrefVal = jQuery(linkTag).attr("href");

                if (hrefVal != undefined && hrefVal.indexOf("support-responsive.css") == -1 && hrefVal.indexOf("_responsive.css") == -1) {
                    let fileName = hrefVal.substr(hrefVal.lastIndexOf("/") + 1, hrefVal.length).split(".css")[0];
                    const filePath = "/etc/designs/cdc/transformation/";

                    if (fileName == "ccimr") {
                        fileName = "techdocs_responsive";
                    } else if (fileName == "support-docs") {
                        fileName = "support-responsive";
                    } else if (fileName == "framework") {
                        fileName = "responsiveframework";
                    } else if (fileName == "dcmt") {
                        fileName = "wemdcmt_responsive";
                    } else if (fileName == "techdocs_85_11_word") {
                        fileName = "techdocs_85_11_word";
                        
                        if (cdc.eot.isToc) {
                            addNewTocStyleSheet();
                        }
                    } else {
                        fileName += "_responsive";
                    }
                    jQuery(linkTag).attr("href", filePath + fileName + ".css");
                }

                if (hrefVal.indexOf("support-responsive.css") > -1) {
                    jQuery(linkTag).attr("href", "/etc/designs/cdc/transformation/support-responsive.css");
                }
            });

            jQuery("#eot-doc-wrapper > table").wrap("<div></div>");
            jQuery("#eot-doc-wrapper table:not('.olh_note')").parent().css({
                overflowX: "auto"
            });
        }
    });
</script>


<div class="noprint">
    

</div>

<div class="noprint">
     













 






</div>


<div id="learnMore" class="noprint">
    <h3>Learn more</h3>
</div>
<div class="row halves noprint">
    <div class="col half showComponent">
        















<div class="eot-vav">
  <ul>
  </ul>
</div>
    </div>
    <!-- Fix for US251354 -->    
    <div class="col half"></div>
</div>
<div class="noprint">
    

</div>


    </div>
</div>

     <!--googleoff: index--><!--googleoff: snippet-->
    













<!-- end: responsive fat footer re-use wrapper-->

</div>

    



























        <script type="module" src="/site/web-components/us/en/cdc-footer.js"></script>
        <cdc-footer></cdc-footer>
    

<script type="text/javascript">
    if(document.querySelector('#privacy-manager')!=null){
        document.querySelector('#privacy-manager').href='#cookies';
    }
  </script>   
    













<div id="fw-overlay"></div>

    













<script src="/etc/designs/cdc/clientlibs/responsive/js/responsive.min.js"></script>

<!-- change to new clientlib, and metricsrules if applicable -->

















<script src="/etc/designs/cdc/fw/m/eot_metricsrule.js" type="text/javascript"></script>
<script src="/etc/designs/cdc/fw/lib/jqmodal.js" type="text/javascript"></script>

    
    

    <!-- SiteCatalyst code version: H.24.4. -->
    <noscript><img src="//cisco.112.2o7.net/b/ss/cisco-mobile/5/12345" width="2" height="2" border="0" alt=""/></noscript>

</body>
</html>
